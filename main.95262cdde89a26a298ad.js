(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}var c=n("SpAZ");function l(t=Number.POSITIVE_INFINITY){return s(c.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return mu}),n.d(e,"b",function(){return gu}),n.d(e,"c",function(){return bu}),n.d(e,"d",function(){return fa}),n.d(e,"e",function(){return ua}),n.d(e,"f",function(){return bs}),n.d(e,"g",function(){return Au}),n.d(e,"h",function(){return Es}),n.d(e,"i",function(){return hr}),n.d(e,"j",function(){return yu}),n.d(e,"k",function(){return Gi}),n.d(e,"l",function(){return en}),n.d(e,"m",function(){return uo}),n.d(e,"n",function(){return Us}),n.d(e,"o",function(){return Bs}),n.d(e,"p",function(){return Cu}),n.d(e,"q",function(){return Js}),n.d(e,"r",function(){return na}),n.d(e,"s",function(){return Lu}),n.d(e,"t",function(){return wn}),n.d(e,"u",function(){return Ou}),n.d(e,"v",function(){return Eu}),n.d(e,"w",function(){return Is}),n.d(e,"x",function(){return Os}),n.d(e,"y",function(){return yr}),n.d(e,"z",function(){return Cs}),n.d(e,"A",function(){return ur}),n.d(e,"B",function(){return Xs}),n.d(e,"C",function(){return Gu}),n.d(e,"D",function(){return xs}),n.d(e,"E",function(){return As}),n.d(e,"F",function(){return eu}),n.d(e,"G",function(){return L}),n.d(e,"H",function(){return ra}),n.d(e,"I",function(){return ta}),n.d(e,"J",function(){return w}),n.d(e,"K",function(){return Ju}),n.d(e,"L",function(){return la}),n.d(e,"M",function(){return Yu}),n.d(e,"N",function(){return Tu}),n.d(e,"O",function(){return Qi}),n.d(e,"P",function(){return is}),n.d(e,"Q",function(){return or}),n.d(e,"R",function(){return Bn}),n.d(e,"S",function(){return kn}),n.d(e,"T",function(){return Dn}),n.d(e,"U",function(){return Mn}),n.d(e,"V",function(){return Vn}),n.d(e,"W",function(){return Pn}),n.d(e,"X",function(){return Rn}),n.d(e,"Y",function(){return ts}),n.d(e,"Z",function(){return ca}),n.d(e,"ab",function(){return es}),n.d(e,"bb",function(){return ns}),n.d(e,"cb",function(){return Nn}),n.d(e,"db",function(){return q}),n.d(e,"eb",function(){return go}),n.d(e,"fb",function(){return No}),n.d(e,"gb",function(){return jo}),n.d(e,"hb",function(){return ko}),n.d(e,"ib",function(){return Jo}),n.d(e,"jb",function(){return kt}),n.d(e,"kb",function(){return g}),n.d(e,"lb",function(){return jn}),n.d(e,"mb",function(){return co}),n.d(e,"nb",function(){return Tt}),n.d(e,"ob",function(){return ys}),n.d(e,"pb",function(){return $r}),n.d(e,"qb",function(){return wo}),n.d(e,"rb",function(){return Bo}),n.d(e,"sb",function(){return tt}),n.d(e,"tb",function(){return ut}),n.d(e,"ub",function(){return O}),n.d(e,"vb",function(){return I}),n.d(e,"wb",function(){return it}),n.d(e,"xb",function(){return at}),n.d(e,"yb",function(){return Oo}),n.d(e,"zb",function(){return xo}),n.d(e,"Ab",function(){return Ao}),n.d(e,"Bb",function(){return Co}),n.d(e,"Cb",function(){return So}),n.d(e,"Db",function(){return Ze}),n.d(e,"Eb",function(){return vn}),n.d(e,"Fb",function(){return $e}),n.d(e,"Gb",function(){return vu}),n.d(e,"Hb",function(){return Do}),n.d(e,"Ib",function(){return Ro}),n.d(e,"Jb",function(){return Io}),n.d(e,"Kb",function(){return Mo}),n.d(e,"Lb",function(){return Yt}),n.d(e,"Mb",function(){return ot}),n.d(e,"Nb",function(){return Eo}),n.d(e,"Ob",function(){return Qo}),n.d(e,"Pb",function(){return Yo});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function y(t){for(let e in t)if(t[e]===y)return e;throw Error("Could not find renamed property on target object.")}function v(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function g(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(g).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function b(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const m=y({__forward_ref__:y});function w(t){return t.__forward_ref__=w,t.toString=function(){return g(this())},t}function _(t){return E(t)?t():t}function E(t){return"function"==typeof t&&t.hasOwnProperty(m)&&t.__forward_ref__===w}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return C(t,x)||C(t,j)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function A(t){return t&&(t.hasOwnProperty(S)||t.hasOwnProperty(k))?t[S]:null}const x=y({"\u0275prov":y}),S=y({"\u0275inj":y}),j=y({ngInjectableDef:y}),k=y({ngInjectorDef:y});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function P(t){const e=D;return D=t,e}function V(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${g(t)}]`)}function R(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,q=F||B||U||H,z={},G=[],W=y({"\u0275cmp":y}),Q=y({"\u0275dir":y}),Y=y({"\u0275pipe":y}),K=y({"\u0275mod":y}),X=y({"\u0275loc":y}),Z=y({"\u0275fac":y}),$=y({__NG_ELEMENT_ID__:y});let J=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[Q]||null}(t)}function nt(t){return function(t){return t[Y]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function ot(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ut=tt;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[W]||null}function lt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${g(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function yt(t){return 0!=(8&t.flags)}function vt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Ot(t,e){const n=e?` in ${e}`:"";throw new wt("201",`No provider for ${Et(t)} found${n}`)}class It{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Tt(){return Ct}function Ct(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),At}function At(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new It(a&&a.currentValue,e,s===z),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let jt;function kt(t){jt=t}function Nt(t){return!!t.listen}Tt.ngInherit=!0;const Dt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Pt(t){for(;Array.isArray(t);)t=t[0];return t}function Vt(t,e){return Pt(e[t])}function Rt(t,e){return Pt(e[t.index])}function Mt(t,e){return t.data[e]}function Lt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function Bt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const zt={lFrame:ce(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return zt.bindingsEnabled}function Wt(){return zt.lFrame.lView}function Qt(){return zt.lFrame.tView}function Yt(t){zt.lFrame.contextLView=t}function Kt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return zt.lFrame.currentTNode}function Zt(t,e){const n=zt.lFrame;n.currentTNode=t,n.isParent=e}function $t(){return zt.lFrame.isParent}function Jt(){return zt.isInCheckNoChangesMode}function te(t){zt.isInCheckNoChangesMode=t}function ee(){return zt.lFrame.bindingIndex++}function ne(t,e){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){zt.lFrame.currentDirectiveIndex=t}function ie(t){zt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function se(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=oe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=zt.lFrame=ae();return r.currentTNode=e,r.lView=t,!0}function ue(t){const e=ae(),n=t[1];zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ae(){const t=zt.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=zt.lFrame;return zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function fe(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function de(){return zt.lFrame.selectedIndex}function pe(t){zt.lFrame.selectedIndex=t}function ye(){const t=zt.lFrame;return Mt(t.tView,t.selectedIndex)}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function ge(t,e,n){we(t,e,3,n)}function be(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function me(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(_e(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function _e(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ee=-1;class Oe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=Nt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];Ce(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Te(t){return 3===t||4===t||6===t}function Ce(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||xe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function xe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Se(t){return t!==Ee}function je(t){return 32767&t}function ke(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ne=!0;function De(t){const e=Ne;return Ne=t,e}let Pe=0;function Ve(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=Le(t,e),o=t.injectorIndex;if(Se(i)){const t=je(i),n=ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Le(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ee;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ee}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($)&&(r=n[$]),null==r&&(r=n[$]=Pe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ue(t,e,n){if(n&N.Optional)return t;Ot(e,"NodeInjector")}function He(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=P(void 0);try{return i?i.get(e,r,n&N.Optional):V(e,r,n&N.Optional)}finally{P(o)}}return Ue(r,e,n)}function Be(t,e,n,r=N.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($)?t[$]:void 0;return"number"==typeof e?e>=0?255&e:ze:e}(n);if("function"==typeof o){if(!se(e,t,r))return r&N.Host?Ue(i,n,r):He(e,n,r,i);try{const t=o();if(null!=t||r&N.Optional)return t;Ot(n)}finally{he()}}else if("number"==typeof o){let i=null,s=Me(t,e),u=Ee,a=r&N.Host?e[16][6]:null;for((-1===s||r&N.SkipSelf)&&(u=-1===s?Le(t,e):e[s+8],u!==Ee&&Ye(r,!1)?(i=e[1],s=je(u),e=ke(u,e)):s=-1);-1!==s;){const t=e[1];if(Qe(o,s,t.data)){const t=Ge(s,e,n,i,r,a);if(t!==qe)return t}u=e[s+8],u!==Ee&&Ye(r,e[1].data[s+8]===a)&&Qe(o,s,e)?(i=t,s=je(u),e=ke(u,e)):s=-1}}}return He(e,n,r,i)}const qe={};function ze(){return new Ke(Kt(),Wt())}function Ge(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&bt(t)&&t.type===n)return a}return null}(u,s,n,null==r?vt(u)&&Ne:r!=s&&0!=(3&u.type),i&N.Host&&o===u);return null!==a?We(e,s,a,u):qe}function We(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Oe){const s=i;s.resolving&&function(t,e){throw new wt("200",`Circular dependency in DI detected for ${t}`)}(Et(o[n]));const u=De(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?P(s.injectImpl):null;se(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Ct(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&P(a),De(u),s.resolving=!1,he()}}return i}function Qe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ye(t,e){return!(t&N.Self||t&N.Host&&e)}class Ke{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Xe(t){const e=t;if(E(t))return()=>{const t=Xe(_(e));return t?t():null};let n=mt(e);if(null===n){const t=A(e);n=t&&t.factory}return n||null}function Ze(t){return R(()=>{const e=t.prototype.constructor,n=e[Z]||Xe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||Xe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function $e(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Te(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const Je="__parameters__";function tn(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Je)?t[Je]:Object.defineProperty(t,Je,{value:[]})[Je];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class en{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function nn(t,e){t.forEach(t=>Array.isArray(t)?nn(t,e):e(t))}function rn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function on(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sn(t,e,n){let r=an(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function un(t,e){const n=an(t,e);if(n>=0)return t[1|n]}function an(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const cn={},ln=/\n/gm,hn="__source",fn=y({provide:String,useValue:y});let dn;function pn(t){const e=dn;return dn=t,e}function yn(t,e=N.Default){if(void 0===dn)throw new Error("inject() must be called from an injection context");return null===dn?V(t,void 0,e):dn.get(t,e&N.Optional?null:void 0,e)}function vn(t,e=N.Default){return(D||yn)(_(t),e)}function gn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(vn(t,n))}else e.push(vn(r))}return e}function bn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const mn=bn(tn("Inject",t=>({token:t})),-1),wn=bn(tn("Optional"),8),_n=bn(tn("SkipSelf"),4);let En;function On(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,q.trustedTypes))try{En=q.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Tn extends In{getTypeName(){return"HTML"}}class Cn extends In{getTypeName(){return"Style"}}class An extends In{getTypeName(){return"Script"}}class xn extends In{getTypeName(){return"URL"}}class Sn extends In{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function kn(t,e){const n=Nn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Nn(t){return t instanceof In&&t.getTypeName()||null}function Dn(t){return new Tn(t)}function Pn(t){return new Cn(t)}function Vn(t){return new An(t)}function Rn(t){return new xn(t)}function Mn(t){return new Sn(t)}class Ln{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(On(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Fn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=On(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=On(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Un=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bn(t){return(t=String(t)).match(Un)||t.match(Hn)?t:"unsafe:"+t}function qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Gn=qn("area,br,col,hr,img,wbr"),Wn=qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qn=qn("rp,rt"),Yn=zn(Qn,Wn),Kn=zn(Gn,zn(Wn,qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zn(Qn,qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Xn=qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zn=qn("srcset"),$n=zn(Xn,Zn,qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jn=qn("script,style,template");class tr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Kn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Jn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!$n.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Xn[o]&&(s=Bn(s)),Zn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Bn(t.trim())).join(", ")),this.buf.push(" ",e,'="',rr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Kn.hasOwnProperty(e)&&!Gn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const er=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nr=/([^\#-~ |!])/g;function rr(t){return t.replace(/&/g,"&amp;").replace(er,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ir;function or(t,e){let n=null;try{ir=ir||function(t){const e=new Fn(t);return function(){try{return!!(new window.DOMParser).parseFromString(On(""),"text/html")}catch(t){return!1}}()?new Ln(e):e}(t);let r=e?String(e):"";n=ir.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ir.getInertBodyElement(r)}while(r!==o);return On((new tr).sanitizeChildren(sr(n)||n))}finally{if(n){const t=sr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ur=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ar(t){return t.ngDebugContext}function cr(t){return t.ngOriginalError}function lr(t,...e){t.error(...e)}class hr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||lr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ar(t)?ar(t):this._findContext(cr(t)):null}_findOriginalError(t){let e=cr(t);for(;e&&cr(e);)e=cr(e);return e}}function fr(t,e){t.__ngContext__=e}const dr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function pr(t){return t instanceof Function?t():t}var yr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function vr(t,e){return(void 0)(t,e)}function gr(t){const e=t[3];return pt(e)?e[3]:e}function br(t){return wr(t[13])}function mr(t){return wr(t[4])}function wr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function _r(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const u=Pt(r);0===t&&null!==n?null==i?xr(e,n,u):Ar(e,n,u,i||null,!0):1===t&&null!==n?Ar(e,n,u,i||null,!0):2===t?function(t,e,n){const r=jr(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Pt(n)&&_r(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Rr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Er(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Or(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function Ir(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Or(o,r),e>0&&(t[n-1][4]=r[4]);const s=on(t,ft+e);Rr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Tr(t,e){if(!(256&e[2])){const n=e[11];Nt(n)&&n.destroyNode&&Rr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Cr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Cr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Cr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Cr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Oe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Pt(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Or(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ar(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function xr(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function Sr(t,e,n,r,i){null!==r?Ar(t,e,n,r,i):xr(t,e,n)}function jr(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function kr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Rt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Rt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Sr(o,i,n[u],s,!1);else Sr(o,i,n,s,!1)}function Nr(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return Pr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Nr(t,n);{const n=t[e.index];return pt(n)?Pr(-1,n):Pt(n)}}if(32&n)return vr(e,t)()||Pt(t[e.index]);{const n=Dr(t,e);return null!==n?Array.isArray(n)?n[0]:Nr(gr(t[16]),n):Nr(t,e.next)}}return null}function Dr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Pr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Nr(t,r)}return e[7]}function Vr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&fr(Pt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)Vr(t,e,n.child,r,i,o,!1),_r(e,t,i,u,o);else if(32&a){const s=vr(n,r);let a;for(;a=s();)_r(e,t,i,a,o);_r(e,t,i,u,o)}else 16&a?Mr(t,e,r,n,i,o):_r(e,t,i,u,o);n=s?n.projectionNext:n.next}}function Rr(t,e,n,r,i,o){Vr(n,r,t.firstChild,e,i,o,!1)}function Mr(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)_r(e,t,i,u[a],o);else Vr(t,e,u,s[3],i,o,!0)}function Lr(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Fr(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Ur(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Hr="ng-template";function Br(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Ur(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function qr(t){return 4===t.type&&t.value!==Hr}function zr(t,e,n){return e===(4!==t.type||n?t.value:Hr)}function Gr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Te(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!zr(t,a,n)||""===a&&1===e.length){if(Wr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Br(t.attrs,c,n)){if(Wr(r))return!1;s=!0}continue}const l=Qr(8&r?"class":a,i,qr(t),n);if(-1===l){if(Wr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Ur(e,c,0)||2&r&&c!==t){if(Wr(r))return!1;s=!0}}}}else{if(!s&&!Wr(r)&&!Wr(a))return!1;if(s&&Wr(a))continue;s=!1,r=a|1&r}}return Wr(r)||s}function Wr(t){return 0==(1&t)}function Qr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Yr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Gr(t,e[r],n))return!0;return!1}function Kr(t,e){return t?":not("+e.trim()+")":e}function Xr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Wr(s)||(e+=Kr(o,i),i=""),r=s,o=o||!Wr(r);n++}return""!==i&&(e+=Kr(o,i)),e}const Zr={};function $r(t){Jr(Qt(),Wt(),de()+t,Jt())}function Jr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ge(e,r,n)}else{const r=t.preOrderHooks;null!==r&&be(e,r,0,n)}pe(n)}function ti(t,e){return t<<17|e<<2}function ei(t){return t>>17&32767}function ni(t){return 2|t}function ri(t){return(131068&t)>>2}function ii(t,e){return-131069&t|e<<2}function oi(t){return 1|t}function si(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ie(i),n.contentQueries(2,e[o],o)}}}function ui(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Bt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ai(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Xt(),s=$t(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Zt(o,!0),o}function ci(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function li(t,e,n){ue(e);try{const r=t.viewQuery;null!==r&&Li(1,r,n);const i=t.template;null!==i&&di(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&si(t,e),t.staticViewQueries&&Li(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Di(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,fe()}}function hi(t,e,n,r){const i=e[2];if(256==(256&i))return;ue(e);const o=Jt();try{Bt(e),zt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&di(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ge(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),me(e,0)}if(function(t){for(let e=br(t);null!==e;e=mr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=br(t);null!==e;e=mr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Ut(n)&&hi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&si(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ge(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),me(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,o=n[++t],s=n[++t];ne(o,i),s(2,e[i])}}}finally{pe(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)ki(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Li(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ge(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{fe()}}function fi(t,e,n,r){const i=e[10],o=!Jt(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&li(t,e,r),hi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function di(t,e,n,r,i){const o=de();try{pe(-1),2&r&&e.length>ht&&Jr(t,e,ht,Jt()),n(r,i)}finally{pe(o)}}function pi(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ve(n,e),fr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=bt(r);o&&Ai(e,n,r);const a=We(e,t,u,n);fr(a,e),null!==s&&xi(0,u-i,a,r,0,s),o&&(Lt(n.index,e)[8]=a)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=zt.lFrame.currentDirectiveIndex;try{pe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ei(r,i)}}finally{pe(-1),re(s)}}(t,e,n))}function yi(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function vi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=gi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function gi(t,e,n,r,i,o,s,u,a,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Zr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function bi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function mi(t,e,n,r,i,o,s,u){const a=Rt(e,n);let c,l=e.inputs;var h;!u&&null!=l&&(c=l[r])?(qi(t,n,c,r,i),vt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Nt(o)?o.setProperty(a,r,i):Ce(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function wi(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Yr(n,s.selectors,!1)&&(i||(i=[]),Fe(Ve(n,e),t,s.type),bt(s)?(Oi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ti(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=ci(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Ci(t,n,e,a,c),Ii(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||qr(e)?null:Si(n,i);o.push(c),s=bi(n,a,s),u=bi(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function _i(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ei(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Oi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ii(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function Ti(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ci(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=mt(i.type)),s=new Oe(o,bt(i),null);t.blueprint[r]=s,n[r]=s,_i(t,e,0,r,ci(t,n,i.hostVars,Zr),i)}function Ai(t,e,n){const r=Rt(e,t),i=vi(n),o=t[10],s=Pi(t,ui(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function xi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function Si(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ki(t,e){const n=Lt(e,t);if(Ut(n)){const t=n[1];80&n[2]?hi(t,n,t.template,n[8]):n[5]>0&&Ni(n)}}function Ni(t){for(let n=br(t);null!==n;n=mr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];hi(t,e,t.template,e[8])}else e[5]>0&&Ni(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Ut(r)&&r[5]>0&&Ni(r)}}function Di(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),li(r,n,n[8])}function Pi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Vi(t){for(;t;){t[2]|=64;const e=gr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Ri(t,e,n){const r=e[10];r.begin&&r.begin();try{hi(t,e,t.template,n)}catch(i){throw Bi(e,i),i}finally{r.end&&r.end()}}function Mi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];fi(i,r,i.template,n)}}(t[8])}function Li(t,e,n){ie(0),e(t,n)}const Fi=(()=>Promise.resolve(null))();function Ui(t){return t[7]||(t[7]=[])}function Hi(t){return t.cleanup||(t.cleanup=[])}function Bi(t,e){const n=t[9],r=n?n.get(hr,null):null;r&&r.handleError(e)}function qi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function zi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=b(i,t):2==o&&(r=b(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Gi=new en("INJECTOR",-1);class Wi{get(t,e=cn){if(e===cn){const e=new Error(`NullInjectorError: No provider for ${g(t)}!`);throw e.name="NullInjectorError",e}return e}}const Qi=new en("Set Injector scope."),Yi={},Ki={},Xi=[];let Zi;function $i(){return void 0===Zi&&(Zi=new Wi),Zi}function Ji(t,e=null,n=null,r){return new to(t,n,e||$i(),r)}class to{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&nn(e,n=>this.processProvider(n,t,e)),nn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Gi,ro(void 0,this));const o=this.records.get(Qi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:g(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=cn,n=N.Default){this.assertNotDestroyed();const r=pn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof en)&&T(t);e=n&&this.injectableDefInScope(n)?ro(eo(t),Yi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?$i():this.parent).get(t,e=n&N.Optional&&e===cn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(g(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[hn]&&i.unshift(e[hn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=g(e);if(Array.isArray(e))i=e.map(g).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):g(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ln,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{pn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(g(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=A(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];nn(r,t=>this.processProvider(t,n,r||Xi))}}this.injectorDefTypes.add(o),this.records.set(o,ro(r.factory,Yi));const u=r.providers;if(null!=u&&!s){const e=t;nn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=oo(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return io(t)?ro(void 0,t.useValue):ro(no(t),Yi)}(t);if(oo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ro(void 0,Yi,!0),e.factory=()=>gn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Yi&&(e.value=Ki,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function eo(t){const e=T(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;const r=A(t);if(null!==r)return r.factory;if(t instanceof en)throw new Error(`Token ${g(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${g(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function no(t,e,n){let r;if(oo(t)){const e=_(t);return mt(e)||eo(e)}if(io(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...gn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>vn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||eo(e);r=()=>new e(...gn(t.deps))}var i;return r}function ro(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function io(t){return null!==t&&"object"==typeof t&&fn in t}function oo(t){return"function"==typeof t}const so=function(t,e,n){return function(t,e=null,n=null,r){const i=Ji(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let uo=(()=>{class t{static create(t,e){return Array.isArray(t)?so(t,e,""):so(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=cn,t.NULL=new Wi,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>vn(Gi)}),t.__NG_ELEMENT_ID__=-1,t})();function ao(t,e){ve(Ft(t)[1],Kt())}function co(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=lo(t.inputs),e.declaredInputs=lo(t.declaredInputs),e.outputs=lo(t.outputs);const n=i.hostBindings;n&&po(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ho(t,o),s&&fo(t,s),v(t.inputs,i.inputs),v(t.declaredInputs,i.declaredInputs),v(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===co&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function lo(t){return t===z?{}:t===G?[]:t}function ho(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function fo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function po(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let yo=null;function vo(){if(!yo){const t=q.Symbol;if(t&&t.iterator)yo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(yo=n)}}}return yo}function go(t){return!!bo(t)&&(Array.isArray(t)||!(t instanceof Map)&&vo()in t)}function bo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function mo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function wo(t,e,n,r){const i=Wt();return mo(i,ee(),e)&&(Qt(),function(t,e,n,r,i,o){const s=Rt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?_t(o):s(o,r||"",i);Nt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(ye(),i,t,e,n,r)),wo}function _o(t,e,n,r){return mo(t,ee(),n)?e+_t(n)+r:Zr}function Eo(t,e,n,r,i,o,s,u){const a=Wt(),c=Qt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=ai(e,t,4,s||null,Ht(c,u));wi(e,n,l,Ht(c,a)),ve(e,l);const h=l.tViews=gi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Zt(h,!1);const f=a[11].createComment("");kr(c,a,f,h),fr(f,a),Pi(a,a[l]=ji(f,a,f,h)),gt(h)&&pi(c,a,h),null!=s&&yi(a,h,u)}function Oo(t,e=N.Default){const n=Wt();return null===n?vn(t,e):Be(Kt(),n,_(t),e)}function Io(t,e,n){const r=Wt();return mo(r,ee(),e)&&mi(Qt(),ye(),r,t,e,r[11],n,!1),Io}function To(t,e,n,r,i){const o=i?"class":"style";qi(t,n,e.inputs[o],o,r)}function Co(t,e,n,r){const i=Wt(),o=Qt(),s=ht+t,u=i[11],a=i[s]=Er(u,e,zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=ai(e,t,2,i,Ht(u,o));return wi(e,n,a,Ht(u,s)),null!==a.attrs&&zi(a,a.attrs,!1),null!==a.mergedAttrs&&zi(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Zt(c,!0);const l=c.mergedAttrs;null!==l&&Ie(u,a,l);const h=c.classes;null!==h&&Fr(u,a,h);const f=c.styles;null!==f&&Lr(u,a,f),64!=(64&c.flags)&&kr(o,i,a,c),0===zt.lFrame.elementDepthCount&&fr(a,i),zt.lFrame.elementDepthCount++,gt(c)&&(pi(o,i,c),function(t,e,n){if(yt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&yi(i,c)}function Ao(){let t=Kt();$t()?zt.lFrame.isParent=!1:(t=t.parent,Zt(t,!1));const e=t;zt.lFrame.elementDepthCount--;const n=Qt();n.firstCreatePass&&(ve(n,t),yt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&To(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&To(n,e,Wt(),e.stylesWithoutHost,!1)}function xo(t,e,n,r){Co(t,e,n,r),Ao()}function So(){return Wt()}function jo(t){return!!t&&"function"==typeof t.then}function ko(t){return!!t&&"function"==typeof t.subscribe}const No=ko;function Do(t,e,n=!1,r){const i=Wt(),o=Qt(),s=Kt();return function(t,e,n,r,i,o,s=!1,u){const a=gt(r),c=t.firstCreatePass&&Hi(t),l=Ui(e);let h=!0;if(3&r.type){const f=Rt(r,e),d=u?u(f):z,p=d.target||f,y=l.length,v=u?t=>u(Pt(t[r.index])).target:r.index;if(Nt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Vo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,y,y+1)}}else o=Vo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,y,s)}else o=Vo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Do}function Po(t,e,n){try{return!1!==e(n)}catch(r){return Bi(t,r),!1}}function Vo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&Vi(s);let u=Po(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=Po(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ro(t=1){return function(t){return(zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,zt.lFrame.contextLView))[8]}(t)}function Mo(t,e,n){return Lo(t,"",e,"",n),Mo}function Lo(t,e,n,r,i){const o=Wt(),s=_o(o,e,n,r);return s!==Zr&&mi(Qt(),ye(),o,t,s,o[11],i,!1),Lo}const Fo=[];function Uo(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?ei(o):ri(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];Ho(t[u],e)&&(a=!0,t[u+1]=r?oi(n):ni(n)),u=r?ei(n):ri(n)}a&&(t[n+1]=r?ni(o):oi(o))}function Ho(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&an(t,e)>=0}function Bo(t,e){return function(t,e,n,r){const i=Wt(),o=Qt(),s=function(t){const e=zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[de()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=zo(n=qo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=qo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==ri(r))return t[ei(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=qo(null,t,e,n[1],r),n=zo(n,e.attrs,r),function(t,e,n,r){t[ei(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=zo(r,t[o].hostAttrs,true);return zo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,u=ei(s),a=ri(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||an(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=ei(t[u+1]);t[r+1]=ti(e,u),0!==e&&(t[e+1]=ii(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=ti(u,0),0!==u&&(t[u+1]=ii(t[u+1],r)),u=r;else t[r+1]=ti(a,0),0===u?u=r:t[a+1]=ii(t[a+1],r),a=r;l&&(t[r+1]=ni(t[r+1])),Uo(t,c,r,!0),Uo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&an(o,e)>=0&&(n[r+1]=oi(n[r+1]))}(e,c,t,r),s=ti(u,a),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Zr&&mo(i,s,e)&&function(t,e,n,r,i,o,s,u){if(!(3&e.type))return;const a=t.data,c=a[u+1];Wo(1==(1&c)?Go(a,e,n,i,ri(c),s):void 0)||(Wo(o)||function(t){return 2==(2&t)}(c)&&(o=Go(a,null,n,i,u,s)),function(t,e,n,r,i){const o=Nt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Vt(de(),n),i,o))}(o,o.data[de()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=g(jn(t))),t}(e),true,s)}(t,e),Bo}function qo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=zo(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function zo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),sn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Go(t,e,n,r,i,o){const s=null===e;let u;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===Zr&&(l=c?Fo:void 0);let h=c?un(l,r):a===r?l:void 0;if(o&&!Wo(h)&&(h=un(e,r)),Wo(h)&&(u=h,s))return u;const f=t[i+1];i=s?ei(f):ri(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=un(t,r))}return u}function Wo(t){return void 0!==t}function Qo(t,e=""){const n=Wt(),r=Qt(),i=t+ht,o=r.firstCreatePass?ai(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);kr(r,n,s,o),Zt(o,!1)}function Yo(t){return Ko("",t,""),Yo}function Ko(t,e,n){const r=Wt(),i=_o(r,t,e,n);return i!==Zr&&function(t,e,n){const r=Vt(e,t);!function(t,e,n){Nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,de(),i),Ko}const Xo=void 0;var Zo=["en",[["a","p"],["AM","PM"],Xo],[["AM","PM"],Xo,Xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xo,"{1} 'at' {0}",Xo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let $o={};function Jo(t,e,n){"string"!=typeof e&&(n=e,e=t[is.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),$o[e]=t,n&&($o[e][is.ExtraData]=n)}function ts(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=rs(e);if(n)return n;const r=e.split("-")[0];if(n=rs(r),n)return n;if("en"===r)return Zo;throw new Error(`Missing locale data for the locale "${t}".`)}function es(t){return ts(t)[is.CurrencyCode]||null}function ns(t){return ts(t)[is.PluralCase]}function rs(t){return t in $o||($o[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),$o[t]}var is=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const os="en-US";let ss=os;function us(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ss=t.toLowerCase().replace(/_/g,"-"))}function as(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)as(t[o],e,n,r,i);else{const o=Qt(),s=Wt();let u=oo(t)?t:_(t.provide),a=no(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(oo(t)||!t.multi){const r=new Oe(a,i,Oo),d=hs(u,e,i?l:l+f,h);-1===d?(Fe(Ve(c,s),o,u),cs(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=hs(u,e,l+f,h),p=hs(u,e,l,l+f),y=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!y){Fe(Ve(c,s),o,u);const l=function(t,e,n,r,i){const o=new Oe(t,n,Oo);return o.multi=[],o.index=e,o.componentProviders=0,ls(o,i,r&&!n),o}(i?ds:fs,n.length,i,r,a);!i&&v&&(n[p].providerFactory=l),cs(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else cs(o,t,d>-1?d:p,ls(n[i?p:d],a,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function cs(t,e,n,r){const i=oo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ls(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fs(t,e,n,r){return ps(this.multi,[])}function ds(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=We(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ps(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ps(i,o);return o}function ps(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ys(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Qt();if(r.firstCreatePass){const i=bt(t);as(n,r.data,r.blueprint,i,!0),as(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class vs{}class gs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${g(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let bs=(()=>{class t{}return t.NULL=new gs,t})();function ms(...t){}function ws(t,e){return new Es(Rt(t,e))}const _s=function(){return ws(Kt(),Wt())};let Es=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=_s,t})();class Os{}let Is=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ts(),t})();const Ts=function(){const t=Wt(),e=Lt(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Cs=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class As{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xs=new As("11.2.1");class Ss{constructor(){}supports(t){return go(t)}create(t){return new ks(t)}}const js=(t,e)=>e;class ks{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||js}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Vs(n,r,i)?e:n,s=Vs(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!go(t))throw new Error(`Error trying to diff '${g(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[vo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ns(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ps),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ps),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ns{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ds{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ps{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ds,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Rs{constructor(){}supports(t){return t instanceof Map||bo(t)}create(){return new Ms}}class Ms{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||bo(t)))throw new Error(`Error trying to diff '${g(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ls(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ls{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fs(){return new Us([new Ss])}let Us=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Fs()),deps:[[t,new _n,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Fs}),t})();function Hs(){return new Bs([new Rs])}let Bs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Hs()),deps:[[t,new _n,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:Hs}),t})();function qs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Pt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&qs(e[1],e,n,r)}const s=n.type;if(8&s)qs(t,e,n.child,r);else if(32&s){const t=vr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Dr(e,n);if(Array.isArray(t))r.push(...t);else{const n=gr(e[16]);qs(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class zs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return qs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Ir(t,n),on(e,n))}this._attachedToViewContainer=!1}Tr(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=Ui(e);i.push(r)}(0,this._lView,0,t)}markForCheck(){Vi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ri(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{Ri(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Rr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gs extends zs{constructor(t){super(t),this._view=t}detectChanges(){Mi(this._view)}checkNoChanges(){!function(t){te(!0);try{Mi(t)}finally{te(!1)}}(this._view)}get context(){return null}}const Ws=[new Rs],Qs=new Us([new Ss]),Ys=new Bs(Ws),Ks=function(){return t=Kt(),e=Wt(),4&t.type?new $s(e,t,ws(t,e)):null;var t,e};let Xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ks,t})();const Zs=Xs,$s=class extends Zs{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ui(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),li(e,n,t),new zs(n)}};class Js{}const tu=function(){return function(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Pt(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Ar(n,jr(n,r),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ji(r,e,i,t),Pi(e,n)}return new ru(n,t,e)}(Kt(),Wt())};let eu=(()=>{class t{}return t.__NG_ELEMENT_ID__=tu,t})();const nu=eu,ru=class extends nu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ws(this._hostTNode,this._hostLView)}get injector(){return new Ke(this._hostTNode,this._hostLView)}get parentInjector(){const t=Le(this._hostTNode,this._hostLView);if(Se(t)){const e=ke(t,this._hostLView),n=je(t);return new Ke(e[1].data[n+8],e)}return new Ke(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=iu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Js,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ru(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],rn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=Pr(i,o),u=n[11],a=jr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Rr(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),rn(ou(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=iu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ir(this._lContainer,e);n&&(on(ou(this._lContainer),e),Tr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ir(this._lContainer,e);return n&&null!=on(ou(this._lContainer),e)?new zs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function iu(t){return t[8]}function ou(t){return t[8]||(t[8]=[])}const su={};class uu extends bs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new lu(e,this.ngModule)}}function au(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const cu=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>dr});class lu extends vs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Xr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return au(this.componentDef.inputs)}get outputs(){return au(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,su,i);return o!==su||r===su?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Os,Dt),s=i.get(Cs,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):Er(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:dr,clean:Fi,playerHandler:null,flags:0},f=gi(0,null,null,1,0,null,null,null,null,null),d=ui(null,f,h,l,null,null,o,u,s,i);let p,y;ue(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=ai(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(zi(u,a,!0),null!==t&&(Ie(i,t,a),null!==u.classes&&Fr(i,t,u.classes),null!==u.styles&&Lr(i,t,u.styles)));const c=r.createRenderer(t,e),l=ui(n,vi(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(Fe(Ve(u,n),s,e.type),Oi(s,u),Ti(u,n.length,1)),Pi(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Ie(u,c,["ng-version",xs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Wr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(u,c,t),e&&e.length>0&&Fr(u,c,e.join(" "))}if(y=Mt(f,ht),void 0!==e){const t=y.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ci(t,r,e,ci(t,e,1,null),n));const i=We(e,t,r.directiveStart,r);fr(i,e);const o=Rt(r,e);return o&&fr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Kt();e.contentQueries(1,s,t.directiveStart)}const u=Kt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(u.index),_i(n[1],u,0,u.directiveStart,u.directiveEnd,e),Ei(e,s)),s}(t,this.componentDef,d,h,[ao]),li(f,d,null)}finally{fe()}return new hu(this.componentType,p,ws(y,d),d,y)}}class hu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Gs(r),this.componentType=t}get injector(){return new Ke(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const fu=new Map;class du extends Js{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uu(this);const n=lt(t),r=t[X]||null;r&&us(r),this._bootstrapComponents=pr(n.bootstrap),this._r3Injector=Ji(t,e,[{provide:Js,useValue:this},{provide:bs,useValue:this.componentFactoryResolver}],g(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=uo.THROW_IF_NOT_FOUND,n=N.Default){return t===uo||t===Js||t===Gi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pu extends class{}{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${g(e)} vs ${g(e.name)}`)}(i,fu.get(i),n),fu.set(i,n));const o=pr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new du(this.moduleType,t)}}const yu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function vu(t=N.Default){const e=function(t=!1){return function(t,e,n){if(!n&&vt(t)){const n=Lt(t.index,e);return new zs(n,n)}return 47&t.type?new zs(e[16],e):null}(Kt(),Wt(),t)}(!0);if(null!=e||t&N.Optional)return e;Ot("ChangeDetectorRef")}const gu=new en("Application Initializer");let bu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ms,this.reject=ms,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();jo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(vn(gu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const mu=new en("AppId"),wu={provide:mu,useFactory:function(){return`${_u()}${_u()}${_u()}`},deps:[]};function _u(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Eu=new en("Platform Initializer"),Ou=new en("Platform ID"),Iu=new en("appBootstrapListener");let Tu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Cu=new en("LocaleId"),Au=new en("DefaultCurrencyCode");class xu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Su=function(t){return new pu(t)},ju=Su,ku=function(t){return Promise.resolve(Su(t))},Nu=function(t){const e=Su(t),n=pr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new lu(n)),t},[]);return new xu(e,n)},Du=Nu,Pu=function(t){return Promise.resolve(Nu(t))};let Vu=(()=>{class t{constructor(){this.compileModuleSync=ju,this.compileModuleAsync=ku,this.compileModuleAndAllComponentsSync=Du,this.compileModuleAndAllComponentsAsync=Pu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Ru=(()=>Promise.resolve(0))();function Mu(t){"undefined"==typeof Zone?Ru.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Lu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Hu(t),Uu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Hu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,u)=>{try{return Bu(t),n.invokeTask(i,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),qu(t)}},onInvoke:(n,r,i,o,s,u,a)=>{try{return Bu(t),n.invoke(i,o,s,u,a)}finally{t.shouldCoalesceRunChangeDetection&&e(),qu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Hu(t),Uu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Fu,ms,ms);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Fu={};function Uu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Bu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qu(t){t._nesting--,Uu(t)}class zu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Gu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lu.assertNotInAngularZone(),Mu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(vn(Lu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),Wu=(()=>{class t{constructor(){this._applications=new Map,Xu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Xu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Qu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Yu(t){Xu=t}let Ku,Xu=new Qu,Zu=!0,$u=!1;function Ju(){return $u=!0,Zu}function ta(){if($u)throw new Error("Cannot enable prod mode after platform setup.");Zu=!1}const ea=new en("AllowMultipleToken");class na{constructor(t,e){this.name=t,this.token=e}}function ra(t,e,n=[]){const r=`Platform: ${e}`,i=new en(r);return(e=[])=>{let o=ia();if(!o||o.injector.get(ea,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Qi,useValue:"platform"});!function(t){if(Ku&&!Ku.destroyed&&!Ku.injector.get(ea,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ku=t.get(oa);const e=t.get(Eu,null);e&&e.forEach(t=>t())}(uo.create({providers:t,name:r}))}return function(t){const e=ia();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ia(){return Ku&&!Ku.destroyed?Ku:null}let oa=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new zu:("zone.js"===t?void 0:t)||new Lu({enableLongStackTrace:Ju(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Lu,useValue:n}];return n.run(()=>{const e=uo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(hr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{aa(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return jo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(bu);return t.runInitializers(),t.donePromise.then(()=>(us(i.injector.get(Cu,os)||os),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=sa({},e);return function(t,e,n){const r=new pu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ua);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${g(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(vn(uo))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function sa(t,e){return Array.isArray(e)?e.reduce(sa,t):Object.assign(Object.assign({},t),e)}let ua=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Lu.assertNotInAngularZone(),Mu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Lu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof vs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Js),i=n.create(uo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Gu,null),u=s&&i.injector.get(Wu);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),aa(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),Ju()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;aa(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Iu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(vn(Lu),vn(Tu),vn(uo),vn(hr),vn(bs),vn(bu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function aa(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ca=function(t){return null},la=ra(null,"core",[{provide:Ou,useValue:"unknown"},{provide:oa,deps:[uo]},{provide:Wu,deps:[]},{provide:Tu,deps:[]}]),ha=[{provide:ua,useClass:ua,deps:[Lu,Tu,uo,hr,bs,bu]},{provide:cu,deps:[Lu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:bu,useClass:bu,deps:[[new wn,gu]]},{provide:Vu,useClass:Vu,deps:[]},wu,{provide:Us,useFactory:function(){return Qs},deps:[]},{provide:Bs,useFactory:function(){return Ys},deps:[]},{provide:Cu,useFactory:function(t){return us(t=t||"undefined"!=typeof $localize&&$localize.locale||os),t},deps:[[new mn(Cu),new wn,new _n]]},{provide:Au,useValue:"USD"}];let fa=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(vn(ua))},providers:ha}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.a)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return y});var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return u().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?b(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new v(i,u,r);return a},t}();function b(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var m=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return g}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const y=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(y.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),g=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new a.l("angularfire2.app.options"),m=new a.l("angularfire2.app.nameOrConfig"),w=new a.E("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(a.K)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[b,a.s,[new a.t,m]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.D.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:m,useValue:n}]}}}return t.\u0275mod=a.wb({type:t}),t.\u0275inj=a.vb({factory:function(e){return new(e||t)(a.Eb(a.u))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class y extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new y(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(y.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new y(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),y=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();y.prototype.name&&y.prototype.options||y.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var u=o.name;if(n.has(u))return p.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw l.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Object(s.f)(a,o.serviceProps),r[u]=a,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(y);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.l("DocumentToken");var u=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const a=r.bb;class c{}let l=(()=>{class t extends c{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(a(e||this.locale)(t)){case u.Zero:return"zero";case u.One:return"one";case u.Two:return"two";case u.Few:return"few";case u.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(r.p))},t.\u0275prov=r.ub({token:t,factory:t.\u0275fac}),t})(),h=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new f,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){d("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){d("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.yb(r.F),r.yb(r.B))},t.\u0275dir=r.tb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class f{constructor(){this.$implicit=null,this.ngIf=null}}function d(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.kb)(e)}'.`)}class p{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let y=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.tb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),v=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new p(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.yb(r.F),r.yb(r.B),r.yb(y,1))},t.\u0275dir=r.tb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),g=(()=>{class t{}return t.\u0275mod=r.wb({type:t}),t.\u0275inj=r.vb({factory:function(e){return new(e||t)},providers:[{provide:c,useClass:l}]}),t})();function b(t){return"server"===t}class m extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new m,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=_||(_=document.querySelector("base"),_)?_.getAttribute("href"):null;return null==e?null:(n=e,w||(w=document.createElement("a")),w.setAttribute("href",n),"/"===w.pathname.charAt(0)?w.pathname:"/"+w.pathname);var n}resetBaseElement(){_=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let w,_=null;const E=new r.l("TRANSITION_ID"),O=[{provide:r.b,useFactory:function(t,e,n){return()=>{n.get(r.c).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[E,s,r.m],multi:!0}];class I{static init(){Object(r.M)(new I)}addToWindow(t){r.db.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.db.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.db.getAllAngularRootElements=()=>t.getAllRootElements(),r.db.frameworkStabilizers||(r.db.frameworkStabilizers=[]),r.db.frameworkStabilizers.push(t=>{const e=r.db.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const T=new r.l("EventManagerPlugins");let C=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(T),r.Eb(r.s))},t.\u0275prov=r.ub({token:t,factory:t.\u0275fac}),t})();class A{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let x=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.ub({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t extends x{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(s))},t.\u0275prov=r.ub({token:t,factory:t.\u0275fac}),t})();const j={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},k=/%COMP%/g;function N(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?N(t,i,n):(i=i.replace(k,t),n.push(i))}return n}function D(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let P=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new V(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.G.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new R(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.G.ShadowDom:return new M(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=N(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(C),r.Eb(S),r.Eb(r.a))},t.\u0275prov=r.ub({token:t,factory:t.\u0275fac}),t})();class V{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(j[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=j[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=j[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.y.DashCase|r.y.Important)?t.style.setProperty(e,n,i&r.y.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.y.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,D(n)):this.eventManager.addEventListener(t,e,D(n))}}class R extends V{constructor(t,e,n,r){super(t),this.component=n;const i=N(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(k,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(k,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class M extends V{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=N(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let L=(()=>{class t extends A{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(s))},t.\u0275prov=r.ub({token:t,factory:t.\u0275fac}),t})();const F=["alt","control","meta","shift"],U={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},B={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let q=(()=>{class t extends A{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(F.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&H.hasOwnProperty(e)&&(e=H[e]))}return U[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),F.forEach(r=>{r!=n&&(0,B[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(s))},t.\u0275prov=r.ub({token:t,factory:t.\u0275fac}),t})();const z=[{provide:r.u,useValue:"browser"},{provide:r.v,useValue:function(){m.makeCurrent(),I.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.jb)(document),document},deps:[]}],G=Object(r.H)(r.L,"browser",z),W=[[],{provide:r.O,useValue:"root"},{provide:r.i,useFactory:function(){return new r.i},deps:[]},{provide:T,useClass:L,multi:!0,deps:[s,r.s,r.u]},{provide:T,useClass:q,multi:!0,deps:[s]},[],{provide:P,useClass:P,deps:[C,S,r.a]},{provide:r.x,useExisting:P},{provide:x,useExisting:S},{provide:S,useClass:S,deps:[s]},{provide:r.C,useClass:r.C,deps:[r.s]},{provide:C,useClass:C,deps:[T,r.s]},[]];let Q=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.a,useValue:e.appId},{provide:E,useExisting:r.a},O]}}}return t.\u0275mod=r.wb({type:t}),t.\u0275inj=r.vb({factory:function(e){return new(e||t)(r.Eb(t,12))},providers:W,imports:[g,r.d]}),t})();"undefined"!=typeof window&&window;const Y=["\u041f\u0440\u043e \u043d\u0430\u0441","About us"],K=["Measurme - \u0440\u0456\u0448\u0435\u043d\u043d\u044f \u043d\u043e\u043c\u0435\u0440 1 \u0434\u043b\u044f \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0456\u0457 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043e\u0457 \u0434\u0430\u043d\u0438\u043c\u0438: \u0432\u0441\u0456 \u043e\u0446\u0456\u043d\u044e\u0432\u0430\u043d\u043d\u044f, \u043c\u0435\u0442\u0440\u0438\u043a\u0438, \u043e\u043f\u0438\u0442\u0443\u0432\u0430\u043b\u044c\u043d\u0438\u043a\u0438, \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u0456 \u0434\u043b\u044f \u043f\u0441\u0438\u0445\u043e\u0442\u0435\u0440\u0430\u043f\u0456\u0457. Measurme  \u043d\u0430\u0434\u0430\u0454 \u043f\u043e\u0432\u043d\u0438\u0439 \u043f\u0430\u043a\u0435\u0442 \u043f\u0441\u0438\u0445\u043e\u043c\u0435\u0442\u0440\u044f\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0443 \u0432\u0456\u0434 \u0437\u0431\u043e\u0440\u0443 \u0434\u0430\u043d\u0438\u0445 \u0434\u043e \u0457\u0445 \u0430\u043d\u0430\u043b\u0456\u0437\u0443 \u0437 \u0432\u0441\u0456\u043c\u0430 \u043c\u043e\u0436\u043b\u0438\u0432\u0438\u043c\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u043c \u0444\u043e\u0440\u043c\u0430\u043c\u0438 , \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430\u043c\u0438 \u0443 \u043f\u0441\u0438\u0445\u043e\u0442\u0435\u0440\u0430\u043f\u0456\u0457  (PHQ, ODP, NPS ets.)","Solution Number One for Data-Driven Psychology: all measurements, scales, questionnaires necessary for psychotherapists. provides a full psychometric lifecycle from data collection to analysis with all available worldwide forms and additional metrics that psychotherapists find important to measure (NPS, AARRR etc.)"],X=["\u0425\u0442\u043e?","Who?"],Z=["\u041f\u0441\u0438\u0445\u043e\u0442\u0435\u0440\u0430\u043f\u0435\u0432\u0442\u0438 \u0442\u0430 \u0406\u0422-\u0441\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0441\u0442\u0438 \u0437 \u0431\u0456\u043b\u044c\u0448\u0435 10+ \u0440\u043e\u043a\u0430\u043c\u0438 \u0434\u043e\u0441\u0432\u0456\u0434\u0443."],$=["\u0429\u043e?","What?"],J=["\u041f\u0440\u043e\u0434\u0443\u043a\u0442, \u0449\u043e \u043f\u043e\u0454\u0434\u043d\u0443\u0454 \u0434\u043e\u0441\u044f\u0433\u043d\u0435\u043d\u043d\u044f \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u0457 \u0442\u0430 \u043f\u0441\u0438\u0445\u043e\u043b\u043e\u0433\u0456\u0457. \u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0456\u0437\u043e\u0432\u0430\u043d\u0435 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435 \u0434\u043b\u044f \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u043d\u044f \u043f\u0441\u0438\u0445\u043e\u0442\u0435\u0440\u0430\u043f\u0456\u0457."],tt=["\u0414\u043b\u044f \u043a\u043e\u0433\u043e?","For whom?"],et=["\u0414\u043b\u044f \u043f\u0441\u0438\u0445\u043e\u0442\u0435\u0440\u0430\u043f\u0435\u0432\u0442\u0456\u0432 \u0442\u0430 \u0457\u0445 \u043a\u043b\u0456\u0454\u043d\u0442\u0456\u0432."],nt=["\u0414\u043b\u044f \u0447\u043e\u0433\u043e?","For what?"],rt=["\u0414\u043b\u044f \u0437\u0431\u043e\u0440\u0443 \u0442\u0430 \u0430\u043d\u0430\u043b\u0456\u0437\u0443 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457  \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e\u0457 \u0434\u043b\u044f \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0457 \u043f\u0441\u0438\u0445\u043e\u0442\u0435\u0440\u0430\u043f\u0456\u0457."],it=["\u0427\u043e\u043c\u0443?","Why?"],ot=["\u0412\u0441\u0456 \u043e\u043f\u0438\u0442\u0443\u0432\u0430\u043b\u044c\u043d\u0438\u043a\u0438, \u0448\u043a\u0430\u043b\u0438, \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0437\u0456\u0431\u0440\u0430\u043d\u0456 \u0432 \u043e\u0434\u043d\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456 \u0434\u043b\u044f \u043f\u0441\u0438\u0445\u043e\u0442\u0435\u0440\u0430\u043f\u0456\u0457."],st=[["\u041f\u0440\u043e \u043d\u0430\u0441","About us"],["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438","Contacts"],["\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f","Register"],["UA","EN"]],ut=["\u0422\u0435\u043b\u0435\u0444\u043e\u043d","Phone"],at=[["\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0439\u0442\u0435\u0441\u044c","Register"],["\u0406\u043c'\u044f","Name"],["\u0422\u0435\u043b\u0435\u0444\u043e\u043d","Phone"]];let ct=(()=>{class t{constructor(){}getText(t,e){switch(t){case"aboutHeader":return Y[e];case"about":return K[e];case"whoHeader":return X[e];case"who":return Z[0];case"whatHeader":return $[e];case"what":return J[0];case"forWhomHeader":return tt[e];case"forWhom":return et[0];case"forWhatHeader":return nt[e];case"forWhat":return rt[0];case"whyHeader":return it[e];case"why":return ot[0];case"btn1":return st[0][e];case"btn2":return st[1][e];case"btn3":return st[2][e];case"btnLang":return st[3][e];case"phone":return ut[e];case"formHeader":return at[0][e];case"formName":return at[1][e];case"formPhone":return at[2][e];default:return""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lt=(()=>{class t{constructor(t){this.contentService=t,this.changePage=new r.j,this.changeLang=new r.j}ngOnInit(){this.setContent()}ngOnChanges(){this.setContent()}setContent(){this.btn1=this.contentService.getText("btn1",this.lang),this.btn2=this.contentService.getText("btn2",this.lang),this.btn3=this.contentService.getText("btn3",this.lang),this.btnLang=this.contentService.getText("btnLang",this.lang)}}return t.\u0275fac=function(e){return new(e||t)(r.yb(ct))},t.\u0275cmp=r.sb({type:t,selectors:[["app-nav"]],inputs:{lang:"lang"},outputs:{changePage:"changePage",changeLang:"changeLang"},features:[r.nb],decls:12,vars:4,consts:[[1,"btn",3,"click"],[1,"btn","last",3,"click"]],template:function(t,e){1&t&&(r.Bb(0,"div",0),r.Hb("click",function(){return e.changePage.emit(0)}),r.Bb(1,"h1"),r.Ob(2),r.Ab(),r.Ab(),r.Bb(3,"div",0),r.Hb("click",function(){return e.changePage.emit(1)}),r.Bb(4,"h1"),r.Ob(5),r.Ab(),r.Ab(),r.Bb(6,"div",0),r.Hb("click",function(){return e.changePage.emit(2)}),r.Bb(7,"h1"),r.Ob(8),r.Ab(),r.Ab(),r.Bb(9,"div",1),r.Hb("click",function(){return e.changeLang.emit()}),r.Bb(10,"h1"),r.Ob(11),r.Ab(),r.Ab()),2&t&&(r.pb(2),r.Pb(e.btn1),r.pb(3),r.Pb(e.btn2),r.pb(3),r.Pb(e.btn3),r.pb(3),r.Pb(e.btnLang))},styles:["[_nghost-%COMP%]{width:100vw;height:10vh;display:flex;grid-template-rows:1fr;padding:0 3vw;flex-direction:row;column-gap:5vw;background-color:#fff;position:fixed;top:0;left:0}[_nghost-%COMP%], [_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]{display:grid}[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{align-self:center;justify-self:center;margin:0;font-size:3.5vh;font-weight:400;cursor:pointer;letter-spacing:.5vh}[_nghost-%COMP%]   .btn[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:hover{color:#4d00ff}[_nghost-%COMP%]   .last[_ngcontent-%COMP%]{margin-left:auto}"]}),t})(),ht=(()=>{class t{constructor(t){this.contentService=t}ngOnInit(){this.setContent()}ngOnChanges(){this.setContent()}setContent(){this.aboutHeader=this.contentService.getText("aboutHeader",this.lang),this.about=this.contentService.getText("about",this.lang),this.whoHeader=this.contentService.getText("whoHeader",this.lang),this.who=this.contentService.getText("who",this.lang),this.whatHeader=this.contentService.getText("whatHeader",this.lang),this.what=this.contentService.getText("what",this.lang),this.forWhomHeader=this.contentService.getText("forWhomHeader",this.lang),this.forWhom=this.contentService.getText("forWhom",this.lang),this.forWhatHeader=this.contentService.getText("forWhatHeader",this.lang),this.forWhat=this.contentService.getText("forWhat",this.lang),this.whyHeader=this.contentService.getText("whyHeader",this.lang),this.why=this.contentService.getText("why",this.lang)}}return t.\u0275fac=function(e){return new(e||t)(r.yb(ct))},t.\u0275cmp=r.sb({type:t,selectors:[["app-about"]],inputs:{lang:"lang"},features:[r.nb],decls:41,vars:12,consts:[[1,"d1"],[1,"me"],[1,"left"],[1,"text"]],template:function(t,e){1&t&&(r.Bb(0,"div",0),r.Bb(1,"h1"),r.Ob(2,"MEASUR"),r.Bb(3,"span",1),r.Ob(4,"ME"),r.Ab(),r.Ab(),r.Ab(),r.Bb(5,"div",2),r.Bb(6,"div",3),r.Bb(7,"h2"),r.Ob(8),r.Ab(),r.Bb(9,"p"),r.Ob(10),r.Ab(),r.Ab(),r.Ab(),r.Bb(11,"div",2),r.Bb(12,"div",3),r.Bb(13,"h2"),r.Ob(14),r.Ab(),r.Bb(15,"p"),r.Ob(16),r.Ab(),r.Ab(),r.Ab(),r.Bb(17,"div",2),r.Bb(18,"div",3),r.Bb(19,"h2"),r.Ob(20),r.Ab(),r.Bb(21,"p"),r.Ob(22),r.Ab(),r.Ab(),r.Ab(),r.Bb(23,"div",2),r.Bb(24,"div",3),r.Bb(25,"h2"),r.Ob(26),r.Ab(),r.Bb(27,"p"),r.Ob(28),r.Ab(),r.Ab(),r.Ab(),r.Bb(29,"div",2),r.Bb(30,"div",3),r.Bb(31,"h2"),r.Ob(32),r.Ab(),r.Bb(33,"p"),r.Ob(34),r.Ab(),r.Ab(),r.Ab(),r.Bb(35,"div",2),r.Bb(36,"div",3),r.Bb(37,"h2"),r.Ob(38),r.Ab(),r.Bb(39,"p"),r.Ob(40),r.Ab(),r.Ab(),r.Ab()),2&t&&(r.pb(8),r.Pb(e.aboutHeader),r.pb(2),r.Pb(e.about),r.pb(4),r.Pb(e.whoHeader),r.pb(2),r.Pb(e.who),r.pb(4),r.Pb(e.whatHeader),r.pb(2),r.Pb(e.what),r.pb(4),r.Pb(e.forWhomHeader),r.pb(2),r.Pb(e.forWhom),r.pb(4),r.Pb(e.forWhatHeader),r.pb(2),r.Pb(e.forWhat),r.pb(4),r.Pb(e.whyHeader),r.pb(2),r.Pb(e.why))},styles:["[_nghost-%COMP%]{width:100vw;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:-ms-autohiding-scrollbar}[_nghost-%COMP%], [_nghost-%COMP%]   .d1[_ngcontent-%COMP%]{height:100vh;display:grid}[_nghost-%COMP%]   .d1[_ngcontent-%COMP%]{width:100%;background-color:#fff;margin-bottom:30vh}[_nghost-%COMP%]   .d1[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:20vh;letter-spacing:3vw;align-self:center;justify-self:center}[_nghost-%COMP%]   .d1[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]{color:#4d00ff}[_nghost-%COMP%]   .left[_ngcontent-%COMP%]{width:100%;height:50vh;display:grid;grid-template-rows:10vh 1fr;padding:5vh 20vw;box-sizing:border-box}[_nghost-%COMP%]   .left[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:5vh;letter-spacing:1vw;color:#4d00ff;align-self:center;justify-self:center}[_nghost-%COMP%]   .left[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:3vh;letter-spacing:.1vw}[_nghost-%COMP%]::-webkit-scrollbar{display:none}"]}),t})(),ft=(()=>{class t{constructor(t){this.contentService=t}ngOnInit(){this.setContent()}ngOnChanges(){this.setContent()}setContent(){this.phone=this.contentService.getText("phone",this.lang)}}return t.\u0275fac=function(e){return new(e||t)(r.yb(ct))},t.\u0275cmp=r.sb({type:t,selectors:[["app-contacts"]],inputs:{lang:"lang"},features:[r.nb],decls:9,vars:1,consts:[[1,"contacts"]],template:function(t,e){1&t&&(r.Bb(0,"div",0),r.Bb(1,"h3"),r.Bb(2,"span"),r.Ob(3,"Email"),r.Ab(),r.Ob(4," info@measurme.com"),r.Ab(),r.Bb(5,"h3"),r.Bb(6,"span"),r.Ob(7),r.Ab(),r.Ob(8," +380995472072"),r.Ab(),r.Ab()),2&t&&(r.pb(7),r.Pb(e.phone))},styles:["[_nghost-%COMP%]{width:100vw;height:100vh;background-color:#fff;display:grid}[_nghost-%COMP%]   .contacts[_ngcontent-%COMP%]{width:70vw;height:30vh;display:grid}[_nghost-%COMP%]   .contacts[_ngcontent-%COMP%], [_nghost-%COMP%]   .contacts[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{justify-self:center;align-self:center}[_nghost-%COMP%]   .contacts[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:7vh;letter-spacing:.7vw}[_nghost-%COMP%]   .contacts[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4d00ff}"]}),t})();var dt=n("D0XW"),pt=n("HDdC"),yt=n("Cfvw"),vt=n("LRne"),gt=n("bHdf");function bt(...t){return Object(gt.a)(1)(Object(vt.a)(...t))}var mt=n("z+Ro");function wt(...t){const e=t[t.length-1];return Object(mt.a)(e)?(t.pop(),n=>bt(t,n,e)):e=>bt(t,e)}var _t=n("7o/Q");function Et(){return t=>t.lift(new Ot)}class Ot{call(t,e){return e.subscribe(new It(t))}}class It extends _t.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Tt=n("lJxs");function Ct(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new At(t,e,n))}}class At{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new xt(t,this.accumulator,this.seed,this.hasSeed))}}class xt extends _t.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class St{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new jt(t,this.compare,this.keySelector))}}class jt extends _t.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function kt(t,e){return function(n){return n.lift(new Nt(t,e))}}class Nt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Dt(t,this.predicate,this.thisArg))}}class Dt extends _t.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Pt=n("pxpQ"),Vt=n("spgP"),Rt=n("Jgta"),Mt=n("zIRd"),Lt=n("q/0M"),Ft=n("qOnz"),Ut=function(t,e){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ht(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Bt,qt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zt=zt||{},Gt=qt||self;function Wt(){}function Qt(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Yt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Kt="closure_uid_"+(1e9*Math.random()>>>0),Xt=0;function Zt(t,e,n){return t.call.apply(t.bind,arguments)}function $t(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Jt(t,e,n){return(Jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zt:$t).apply(null,arguments)}function te(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ee(){return Date.now()}function ne(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function re(){this.j=this.j,this.i=this.i}re.prototype.j=!1,re.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Kt)&&t[Kt]||(t[Kt]=++Xt)}(this)},re.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ie=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},oe=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function se(t){return Array.prototype.concat.apply([],arguments)}function ue(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ae(t){return/^[\s\xa0]*$/.test(t)}var ce,le=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function he(t,e){return-1!=t.indexOf(e)}function fe(t,e){return t<e?-1:t>e?1:0}t:{var de=Gt.navigator;if(de){var pe=de.userAgent;if(pe){ce=pe;break t}}ce=""}function ye(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ve(t){var e={};for(var n in t)e[n]=t[n];return e}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function me(t){return me[" "](t),t}me[" "]=Wt;var we,_e,Ee=he(ce,"Opera"),Oe=he(ce,"Trident")||he(ce,"MSIE"),Ie=he(ce,"Edge"),Te=Ie||Oe,Ce=he(ce,"Gecko")&&!(he(ce.toLowerCase(),"webkit")&&!he(ce,"Edge"))&&!(he(ce,"Trident")||he(ce,"MSIE"))&&!he(ce,"Edge"),Ae=he(ce.toLowerCase(),"webkit")&&!he(ce,"Edge");function xe(){var t=Gt.document;return t?t.documentMode:void 0}t:{var Se="",je=(_e=ce,Ce?/rv:([^\);]+)(\)|;)/.exec(_e):Ie?/Edge\/([\d\.]+)/.exec(_e):Oe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(_e):Ae?/WebKit\/(\S+)/.exec(_e):Ee?/(?:Version)[ \/]?(\S+)/.exec(_e):void 0);if(je&&(Se=je?je[1]:""),Oe){var ke=xe();if(null!=ke&&ke>parseFloat(Se)){we=String(ke);break t}}we=Se}var Ne={};function De(t){return function(t,e){var n=Ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=le(String(we)).split("."),r=le(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=fe(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||fe(0==s[2].length,0==u[2].length)||fe(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var Pe=Gt.document&&Oe&&(xe()||parseInt(we,10))||void 0,Ve=!Oe||9<=Number(Pe),Re=Oe&&!De("9"),Me=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Gt.addEventListener("test",Wt,e),Gt.removeEventListener("test",Wt,e)}catch(n){}return t}();function Le(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Fe(t,e){if(Le.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ce){t:{try{me(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ue[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Le.prototype.b=function(){this.defaultPrevented=!0},ne(Fe,Le);var Ue={2:"touch",3:"pen",4:"mouse"};Fe.prototype.b=function(){Fe.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Re)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var He="closure_listenable_"+(1e6*Math.random()|0),Be=0;function qe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Be,this.Y=this.Z=!1}function ze(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ge(t){this.src=t,this.a={},this.b=0}function We(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ie(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Qe(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ge.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Qe(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new qe(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ye="closure_lm_"+(1e6*Math.random()|0),Ke={};function Xe(t,e,n,r,i){if(r&&r.once)return $e(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Xe(t,e[o],n,r,i);return null}return n=un(n),t&&t[He]?t.va(e,n,Yt(r)?!!r.capture:!!r,i):Ze(t,e,n,!1,r,i)}function Ze(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Yt(i)?!!i.capture:!!i;if(s&&!Ve)return null;var u=on(t);if(u||(t[Ye]=u=new Ge(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=rn,e=Ve?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Me||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(en(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $e(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)$e(t,e[o],n,r,i);return null}return n=un(n),t&&t[He]?t.wa(e,n,Yt(r)?!!r.capture:!!r,i):Ze(t,e,n,!0,r,i)}function Je(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Je(t,e[o],n,r,i);else r=Yt(r)?!!r.capture:!!r,n=un(n),t&&t[He]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Qe(o=t.a[e],n,r,i))&&(ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=on(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Qe(e,n,r,i)),(n=-1<t?e[t]:null)&&tn(n))}function tn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[He])We(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(en(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=on(e))?(We(n,t),0==n.b&&(n.src=null,e[Ye]=null)):ze(t)}}}function en(t){return t in Ke?Ke[t]:Ke[t]="on"+t}function nn(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&tn(t),n.call(r,e)}function rn(t,e){if(t.Y)return!0;if(!Ve){if(!e)t:{e=["window","event"];for(var n=Gt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return nn(t,e=new Fe(e,this))}return nn(t,new Fe(e,this))}function on(t){return(t=t[Ye])instanceof Ge?t:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function un(t){return"function"==typeof t?t:(t[sn]||(t[sn]=function(e){return t.handleEvent(e)}),t[sn])}function an(){re.call(this),this.c=new Ge(this),this.J=this,this.C=null}function cn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Le(e,t);else if(e instanceof Le)e.target=e.target||t;else{var i=e;be(e=new Le(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ln(s,r,!0,e)&&i}if(i=ln(s=e.a=t,r,!0,e)&&i,i=ln(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ln(s=e.a=n[o],r,!1,e)&&i}function ln(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&We(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}ne(an,re),an.prototype[He]=!0,(Bt=an.prototype).addEventListener=function(t,e,n,r){Xe(this,t,e,n,r)},Bt.removeEventListener=function(t,e,n,r){Je(this,t,e,n,r)},Bt.G=function(){if(an.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ze(n[r]);delete e.a[t],e.b--}}this.C=null},Bt.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Bt.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var hn=Gt.JSON.stringify;function fn(){this.b=this.a=null}var dn,pn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new vn},function(t){t.reset()});function yn(){var t=wn,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function vn(){this.next=this.b=this.a=null}function gn(t){Gt.setTimeout(function(){throw t},0)}function bn(t,e){dn||function(){var t=Gt.Promise.resolve(void 0);dn=function(){t.then(_n)}}(),mn||(dn(),mn=!0),wn.add(t,e)}fn.prototype.add=function(t,e){var n=pn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},vn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},vn.prototype.reset=function(){this.next=this.b=this.a=null};var mn=!1,wn=new fn;function _n(){for(var t;t=yn();){try{t.a.call(t.b)}catch(n){gn(n)}var e=pn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}mn=!1}function En(t,e){an.call(this),this.b=t||1,this.a=e||Gt,this.f=Jt(this.Za,this),this.g=ee()}function On(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function In(t,e,n){if("function"==typeof t)n&&(t=Jt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Jt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Gt.setTimeout(t,e||0)}function Tn(t){t.a=In(function(){t.a=null,t.c&&(t.c=!1,Tn(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ne(En,an),(Bt=En.prototype).aa=!1,Bt.M=null,Bt.Za=function(){if(this.aa){var t=ee()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),cn(this,"tick"),this.aa&&(On(this),this.start()))}},Bt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ee())},Bt.G=function(){En.X.G.call(this),On(this),delete this.a};var Cn=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Tn(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Gt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(re);function An(t){re.call(this),this.b=t,this.a={}}ne(An,re);var xn=[];function Sn(t,e,n,r){Array.isArray(n)||(n&&(xn[0]=n.toString()),n=xn);for(var i=0;i<n.length;i++){var o=Xe(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function jn(t){ye(t.a,function(t,e){this.a.hasOwnProperty(e)&&tn(t)},t),t.a={}}function kn(){this.a=!0}function Nn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return hn(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}An.prototype.G=function(){An.X.G.call(this),jn(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kn.prototype.info=function(){};var Dn={},Pn=null;function Vn(){return Pn=Pn||new an}function Rn(t){Le.call(this,Dn.Fa,t)}function Mn(t){var e=Vn();cn(e,new Rn(e,t))}function Ln(t,e){Le.call(this,Dn.STAT_EVENT,t),this.stat=e}function Fn(t){var e=Vn();cn(e,new Ln(e,t))}function Un(t){Le.call(this,Dn.Ga,t)}function Hn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){t()},e)}Dn.Fa="serverreachability",ne(Rn,Le),Dn.STAT_EVENT="statevent",ne(Ln,Le),Dn.Ga="timingevent",ne(Un,Le);var Bn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},qn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function zn(){}function Gn(){}zn.prototype.a=null;var Wn,Qn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Yn(){Le.call(this,"d")}function Kn(){Le.call(this,"c")}function Xn(){}function Zn(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new An(this),this.P=$n,this.R=new En(t=Te?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ne(Yn,Le),ne(Kn,Le),ne(Xn,zn),Wn=new Xn;var $n=45e3,Jn={},tr={};function er(t,e,n){t.H=1,t.i=Or(gr(e)),t.j=n,t.I=!0,nr(t,null)}function nr(t,e){t.u=ee(),or(t),t.l=gr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Rr(n.b,"t",r),t.D=0,t.a=ji(t.g,t.g.C?e:null),0<t.O&&(t.F=new Cn(Jt(t.Ca,t,t.a),t.O)),Sn(t.J,t.a,"readystatechange",t.Xa),e=t.B?ve(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Mn(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function rr(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ir(t,n);if(i==tr){4==e&&(t.h=4,Fn(14),r=!1),Nn(t.c,t.f,null,"[Incomplete Response]");break}if(i==Jn){t.h=4,Fn(15),Nn(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Nn(t.c,t.f,i,null),lr(t,i)}4==e&&0==n.length&&(t.h=1,Fn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ei(e),e.F=!0,Fn(11))):(Nn(t.c,t.f,n,"[Invalid Chunked Response]"),cr(t),ar(t))}function ir(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?tr:(n=Number(e.substring(n,r)),isNaN(n)?Jn:(r+=1)+n>e.length?tr:(e=e.substr(r,n),t.D=r+n,e))}function or(t){t.T=ee()+t.P,sr(t,t.P)}function sr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Hn(Jt(t.Va,t),e)}function ur(t){t.o&&(Gt.clearTimeout(t.o),t.o=null)}function ar(t){0==t.g.v||t.A||Ti(t.g,t)}function cr(t){ur(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,On(t.R),jn(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function lr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||qr(n.b,t)))if(n.I=t.N,!t.C&&qr(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(yp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ii(n),di(n)}_i(n),Fn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Hn(Jt(n.Sa,n),6e3));if(1>=Br(n.b)&&n.ea){try{n.ea()}catch(yp){}n.ea=void 0}}else Ai(n,11)}else if((t.C||n.a==t)&&Ii(n),!ae(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(he(l,"spdy")||he(l,"quic")||he(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(zr(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,Er(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ee()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=Si(a,a.C?a.ga:null,a.fa),d.C){Gr(a.b,d);var p=d,y=a.D;y&&p.setTimeout(y),p.o&&(ur(p),or(p)),a.a=d}else wi(a);0<n.g.length&&vi(n)}else"stop"!=i[0]&&"close"!=i[0]||Ai(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Ai(n,7):fi(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Mn(4)}catch(yp){}}function hr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Qt(t)||"string"==typeof t)oe(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Qt(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Qt(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function fr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function dr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];pr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)pr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function pr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Bt=Zn.prototype).setTimeout=function(t){this.P=t},Bt.Xa=function(t){t=t.target;var e=this.F;e&&3==ai(t)?e.f():this.Ca(t)},Bt.Ca=function(t){try{if(t==this.a)t:{var e=ai(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Te&&!this.a.$())){this.A||4!=e||7==n||Mn(8==n||0>=r?3:2),ur(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Fn(12),cr(this),ar(this);break t}Nn(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,lr(this,a)}this.I?(rr(this,e,o),Te&&this.b&&3==e&&(Sn(this.J,this.R,"tick",this.Wa),this.R.start())):(Nn(this.c,this.f,o,null),lr(this,o)),4==e&&cr(this),this.b&&!this.A&&(4==e?Ti(this.g,this):(this.b=!1,or(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Fn(12)):(this.h=0,Fn(13)),cr(this),ar(this)}}}catch(c){}},Bt.Wa=function(){if(this.a){var t=ai(this.a),e=this.a.$();this.D<e.length&&(ur(this),rr(this,t,e),this.b&&4!=t&&or(this))}},Bt.cancel=function(){this.A=!0,cr(this)},Bt.Va=function(){this.o=null;var t=ee();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Mn(3),Fn(17)),cr(this),this.h=2,ar(this)):sr(this,this.T-t)},(Bt=fr.prototype).K=function(){dr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Bt.L=function(){return dr(this),this.a.concat()},Bt.get=function(t,e){return pr(this.b,t)?this.b[t]:e},Bt.set=function(t,e){pr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Bt.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var yr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof vr){this.a=void 0!==e?e:t.a,br(this,t.f),this.j=t.j,mr(this,t.c),wr(this,t.h),this.g=t.g,e=t.b;var n=new Nr;n.c=e.c,e.a&&(n.a=new fr(e.a),n.b=e.b),_r(this,n),this.i=t.i}else t&&(n=String(t).match(yr))?(this.a=!!e,br(this,n[1]||"",!0),this.j=Ir(n[2]||""),mr(this,n[3]||"",!0),wr(this,n[4]),this.g=Ir(n[5]||"",!0),_r(this,n[6]||"",!0),this.i=Ir(n[7]||"")):(this.a=!!e,this.b=new Nr(null,this.a))}function gr(t){return new vr(t)}function br(t,e,n){t.f=n?Ir(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function mr(t,e,n){t.c=n?Ir(e,!0):e}function wr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function _r(t,e,n){e instanceof Nr?(t.b=e,function(t,e){e&&!t.f&&(Dr(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Pr(this,e),Rr(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Tr(e,jr)),t.b=new Nr(e,t.a))}function Er(t,e,n){t.b.set(e,n)}function Or(t){return Er(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ee()).toString(36)),t}function Ir(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Tr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Cr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Tr(e,Ar,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Tr(e,Ar,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Tr(n,"/"==n.charAt(0)?Sr:xr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Tr(n,kr)),t.join("")};var Ar=/[#\/\?@]/g,xr=/[#\?:]/g,Sr=/[#\?]/g,jr=/[#\?@]/g,kr=/#/g;function Nr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Dr(t){t.a||(t.a=new fr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Pr(t,e){Dr(t),e=Mr(t,e),pr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&dr(t)))}function Vr(t,e){return Dr(t),e=Mr(t,e),pr(t.a.b,e)}function Rr(t,e,n){Pr(t,e),0<n.length&&(t.c=null,t.a.set(Mr(t,e),ue(n)),t.b+=n.length)}function Mr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Bt=Nr.prototype).add=function(t,e){Dr(this),this.c=null,t=Mr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Bt.forEach=function(t,e){Dr(this),this.a.forEach(function(n,r){oe(n,function(n){t.call(e,n,r,this)},this)},this)},Bt.L=function(){Dr(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Bt.K=function(t){Dr(this);var e=[];if("string"==typeof t)Vr(this,t)&&(e=se(e,this.a.get(Mr(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=se(e,t[n])}return e},Bt.set=function(t,e){return Dr(this),this.c=null,Vr(this,t=Mr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Bt.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Bt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Lr=function(){return function(t,e){this.b=t,this.a=e}}();function Fr(t){this.g=t||Ur,t=Gt.PerformanceNavigationTiming?0<(t=Gt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Gt.ia&&Gt.ia.ya&&Gt.ia.ya()&&Gt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ur=10;function Hr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Br(t){return t.b?1:t.a?t.a.size:0}function qr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function zr(t,e){t.a?t.a.add(e):t.b=e}function Gr(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Wr(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ht(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ue(t.c)}function Qr(){}function Yr(){this.a=new Qr}function Kr(t,e,n){var r=n||"";try{hr(t,function(t,n){var i=t;Yt(t)&&(i=hn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(ny){throw e.push(r+"type="+encodeURIComponent("_badmap")),ny}}function Xr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Fr.prototype.cancel=function(){var t,e;if(this.c=Wr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ht(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Qr.prototype.stringify=function(t){return Gt.JSON.stringify(t,void 0)},Qr.prototype.parse=function(t){return Gt.JSON.parse(t,void 0)};var Zr=Gt.JSON.parse;function $r(t){an.call(this),this.headers=new fr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Jr,this.D=this.F=!1}ne($r,an);var Jr="",ti=/^https?$/i,ei=["POST","PUT"];function ni(t){return"content-type"==t.toLowerCase()}function ri(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ii(t),si(t)}function ii(t){t.u||(t.u=!0,cn(t,"complete"),cn(t,"error"))}function oi(t){if(t.b&&void 0!==zt&&(!t.s[1]||4!=ai(t)||2!=t.W()))if(t.l&&4==ai(t))In(t.za,0,t);else if(cn(t,"readystatechange"),4==ai(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(yr)[1]||null;if(!o&&Gt.self&&Gt.self.location){var s=Gt.self.location.protocol;o=s.substr(0,s.length-1)}i=!ti.test(o?o.toLowerCase():"")}e=i}if(e)cn(t,"complete"),cn(t,"success");else{t.h=6;try{var u=2<ai(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",ii(t)}}finally{si(t)}}}function si(t,e){if(t.a){ui(t);var n=t.a,r=t.s[0]?Wt:null;t.a=null,t.s=null,e||cn(t,"ready");try{n.onreadystatechange=r}catch(ny){}}}function ui(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Gt.clearTimeout(t.m),t.m=null)}function ai(t){return t.a?t.a.readyState:0}function ci(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ye(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Er(t,e,n))}function li(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hi(t){this.pa=0,this.g=[],this.c=new kn,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=li("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=li("baseRetryDelayMs",5e3,t),this.Ra=li("retryDelaySeedMs",1e4,t),this.Ma=li("forwardChannelMaxRetries",2,t),this.ma=li("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Fr(t&&t.concurrentRequestLimit),this.ka=new Yr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function fi(t){if(pi(t),3==t.v){var e=t.R++,n=gr(t.B);Er(n,"SID",t.J),Er(n,"RID",e),Er(n,"TYPE","terminate"),bi(t,n),(e=new Zn(t,t.c,e,void 0)).H=2,e.i=Or(gr(n)),n=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(n=Gt.navigator.sendBeacon(e.i.toString(),"")),!n&&Gt.Image&&((new Image).src=e.i,n=!0),n||(e.a=ji(e.g,null),e.a.ba(e.i)),e.u=ee(),or(e)}xi(t)}function di(t){t.a&&(Ei(t),t.a.cancel(),t.a=null)}function pi(t){di(t),t.j&&(Gt.clearTimeout(t.j),t.j=null),Ii(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Gt.clearTimeout(t.h),t.h=null)}function yi(t,e){t.g.push(new Lr(t.Oa++,e)),3==t.v&&vi(t)}function vi(t){Hr(t.b)||t.h||(t.h=!0,bn(t.Ba,t),t.u=0)}function gi(t,e){var n;n=e?e.f:t.R++;var r=gr(t.B);Er(r,"SID",t.J),Er(r,"RID",n),Er(r,"AID",t.P),bi(t,r),t.i&&t.l&&ci(r,t.i,t.l),n=new Zn(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=mi(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),zr(t.b,n),er(n,r,e)}function bi(t,e){t.f&&hr({},function(t,n){Er(e,n,t)})}function mi(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Jt(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Kr(l,s,"req"+c+"_")}catch(fo){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function wi(t){t.a||t.j||(t.T=1,bn(t.Aa,t),t.o=0)}function _i(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Hn(Jt(t.Aa,t),Ci(t,t.o)),t.o++,0))}function Ei(t){null!=t.s&&(Gt.clearTimeout(t.s),t.s=null)}function Oi(t){t.a=new Zn(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gr(t.la);Er(e,"RID","rpc"),Er(e,"SID",t.J),Er(e,"CI",t.H?"0":"1"),Er(e,"AID",t.P),bi(t,e),Er(e,"TYPE","xmlhttp"),t.i&&t.l&&ci(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Or(gr(e)),n.j=null,n.I=!0,nr(n,t)}function Ii(t){null!=t.m&&(Gt.clearTimeout(t.m),t.m=null)}function Ti(t,e){var n=null;if(t.a==e){Ii(t),Ei(t),t.a=null;var r=2}else{if(!qr(t.b,e))return;n=e.s,Gr(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ee()-e.u;var i=t.u;cn(r=Vn(),new Un(r,n,e,i)),vi(t)}else wi(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Br(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Hn(Jt(t.Ba,t,e),Ci(t,t.u)),t.u++,0)))}(t,e)||2==r&&_i(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}function Ci(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Ai(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Jt(t.Ya,t);n||(n=new vr("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||br(n,"https"),Or(n)),function(t,e){var n=new kn;if(Gt.Image){var r=new Image;r.onload=te(Xr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=te(Xr,n,r,"TestLoadImage: error",!1,e),r.onabort=te(Xr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=te(Xr,n,r,"TestLoadImage: timeout",!1,e),Gt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fn(2);t.v=0,t.f&&t.f.ra(e),xi(t),pi(t)}function xi(t){t.v=0,t.I=-1,t.f&&(0==Wr(t.b).length&&0==t.g.length||(t.b.c.length=0,ue(t.g),t.g.length=0),t.f.qa())}function Si(t,e,n){var r=function(t){return t instanceof vr?gr(t):new vr(t,void 0)}(n);if(""!=r.c)e&&mr(r,e+"."+r.c),wr(r,r.h);else{var i=Gt.location;r=function(t,e,n,r){var i=new vr(null,void 0);return t&&br(i,t),e&&mr(i,e),n&&wr(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ye(t.V,function(t,e){Er(r,e,t)}),n=t.na,(e=t.A)&&n&&Er(r,e,n),Er(r,"VER",t.ha),bi(t,r),r}function ji(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $r(t.Na)).F=t.C,e}function ki(){}function Ni(){if(Oe&&!(10<=Number(Pe)))throw Error("Environmental error: no available transport.")}function Di(t,e){an.call(this),this.a=new hi(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ae(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ae(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ri(this)}function Pi(t){Yn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Vi(){Kn.call(this),this.status=1}function Ri(t){this.a=t}(Bt=$r.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Wn),this.a.onreadystatechange=Jt(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void ri(this,o)}t=n||"";var i=new fr(this.headers);r&&hr(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ni,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Gt.FormData&&t instanceof Gt.FormData,!(0<=ie(ei,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ui(this),0<this.o&&((this.D=function(t){return Oe&&De(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Jt(this.xa,this)):this.m=In(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){ri(this,o)}},Bt.xa=function(){void 0!==zt&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,cn(this,"timeout"),this.abort(8))},Bt.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,cn(this,"complete"),cn(this,"abort"),si(this))},Bt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),si(this,!0)),$r.X.G.call(this)},Bt.za=function(){this.j||(this.A||this.l||this.g?oi(this):this.Ua())},Bt.Ua=function(){oi(this)},Bt.W=function(){try{return 2<ai(this)?this.a.status:-1}catch(_e){return-1}},Bt.$=function(){try{return this.a?this.a.responseText:""}catch(_e){return""}},Bt.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Zr(e)}},Bt.ua=function(){return this.h},Bt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Bt=hi.prototype).ha=8,Bt.v=1,Bt.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Zn(this,this.c,t,void 0),r=this.l;if(this.O&&(r?be(r=ve(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=mi(this,n,e),Er(i=gr(this.B),"RID",t),Er(i,"CVER",22),this.A&&Er(i,"X-HTTP-Session-Id",this.A),bi(this,i),this.i&&r&&ci(i,this.i,r),zr(this.b,n),this.Ia&&Er(i,"TYPE","init"),this.da?(Er(i,"$req",e),Er(i,"SID","null"),n.U=!0,er(n,i,null)):er(n,i,e),this.v=2}}else 3==this.v&&(t?gi(this,t):0==this.g.length||Hr(this.b)||gi(this))},Bt.Aa=function(){if(this.j=null,Oi(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Hn(Jt(this.Ta,this),t)}},Bt.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Fn(10),di(this),Oi(this))},Bt.Sa=function(){null!=this.m&&(this.m=null,di(this),_i(this),Fn(19))},Bt.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Fn(2)):(this.c.info("Failed to ping google.com"),Fn(1))},(Bt=ki.prototype).ta=function(){},Bt.sa=function(){},Bt.ra=function(){},Bt.qa=function(){},Bt.Ja=function(){},Ni.prototype.a=function(t,e){return new Di(t,e)},ne(Di,an),Di.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Fn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Si(t,null,t.fa),vi(t)},Di.prototype.close=function(){fi(this.a)},Di.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,yi(this.a,e)}else this.l?((e={}).__data__=hn(t),yi(this.a,e)):yi(this.a,t)},Di.prototype.G=function(){this.a.f=null,delete this.f,fi(this.a),delete this.a,Di.X.G.call(this)},ne(Pi,Yn),ne(Vi,Kn),ne(Ri,ki),Ri.prototype.ta=function(){cn(this.a,"a")},Ri.prototype.sa=function(t){cn(this.a,new Pi(t))},Ri.prototype.ra=function(t){cn(this.a,new Vi(t))},Ri.prototype.qa=function(){cn(this.a,"b")},Ni.prototype.createWebChannel=Ni.prototype.a,Di.prototype.send=Di.prototype.h,Di.prototype.open=Di.prototype.g,Di.prototype.close=Di.prototype.close,Bn.NO_ERROR=0,Bn.TIMEOUT=8,Bn.HTTP_ERROR=6,qn.COMPLETE="complete",Gn.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",an.prototype.listen=an.prototype.va,$r.prototype.listenOnce=$r.prototype.wa,$r.prototype.getLastError=$r.prototype.Qa,$r.prototype.getLastErrorCode=$r.prototype.ua,$r.prototype.getStatus=$r.prototype.W,$r.prototype.getResponseJson=$r.prototype.Pa,$r.prototype.getResponseText=$r.prototype.$,$r.prototype.send=$r.prototype.ba;var Mi=Bn,Li=qn,Fi=Dn,Ui=Gn,Hi=$r,Bi=n("os0x"),qi=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},zi=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Gi=new Lt.b("@firebase/firestore");function Wi(){return Gi.logLevel}function Qi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gi.logLevel<=Lt.a.DEBUG){var r=e.map(Xi);Gi.debug.apply(Gi,Object(Bi.g)(["Firestore (8.2.9): "+t],r))}}function Yi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gi.logLevel<=Lt.a.ERROR){var r=e.map(Xi);Gi.error.apply(Gi,Object(Bi.g)(["Firestore (8.2.9): "+t],r))}}function Ki(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gi.logLevel<=Lt.a.WARN){var r=e.map(Xi);Gi.warn.apply(Gi,Object(Bi.g)(["Firestore (8.2.9): "+t],r))}}function Xi(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(ny){return t}}function Zi(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Yi(e),new Error(e)}function $i(t,e){t||Zi()}function Ji(t,e){return t}function to(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var eo=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=to(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function no(t,e){return t<e?-1:t>e?1:0}function ro(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function io(t){return t+"\0"}var oo=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return no(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();oo.T=new oo("");var so={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},uo=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Bi.c)(e,t),e}(Error),ao=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(oo.fromBase64String(e))}catch(e){throw new uo(so.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(oo.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),co=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();co.UNAUTHENTICATED=new co(null),co.R=new co("google-credentials-uid"),co.P=new co("first-party-uid");var lo=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},ho=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(co.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),fo=function(){function t(t){var e=this;this.D=null,this.currentUser=co.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Qi("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?($i("string"==typeof n.accessToken),new lo(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return $i(null===t||"string"==typeof t),new co(t)},t}(),po=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=co.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),yo=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new po(this.F,this.O))},t.prototype.v=function(t){t(co.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),vo=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();vo.q=-1;var go=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new uo(so.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new uo(so.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new uo(so.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new uo(so.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?no(this.nanoseconds,t.nanoseconds):no(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),bo=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new go(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),mo=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Zi(),void 0===n?n=t.length-e:n>t.length-e&&Zi(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new uo(so.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(mo),_o=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return _o.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new uo(so.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new uo(so.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new uo(so.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new uo(so.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(mo),Oo=function(){function t(t){this.path=t}return t._t=function(e){return new t(wo.ot(e))},t.ft=function(e){return new t(wo.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wo.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return wo.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new wo(e.slice()))},t}();function Io(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Co(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ao=function(){function t(t){this.fields=t,t.sort(Eo.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return ro(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),xo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(t){if($i(!!t),"string"==typeof t){var e=0,n=xo.exec(t);if($i(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jo(t.seconds),nanos:jo(t.nanos)}}function jo(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ko(t){return"string"==typeof t?oo.fromBase64String(t):oo.fromUint8Array(t)}function No(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Do(t){var e=t.mapValue.fields.__previous_value__;return No(e)?Do(e):e}function Po(t){var e=So(t.mapValue.fields.__local_write_time__.timestampValue);return new go(e.seconds,e.nanos)}function Vo(t){return null==t}function Ro(t){return 0===t&&1/t==-1/0}function Mo(t){return"number"==typeof t&&Number.isInteger(t)&&!Ro(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?No(t)?4:10:Zi()}function Fo(t,e){var n=Lo(t);if(n!==Lo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Po(t).isEqual(Po(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=So(t.timestampValue),r=So(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ko(t.bytesValue).isEqual(ko(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return jo(t.geoPointValue.latitude)===jo(e.geoPointValue.latitude)&&jo(t.geoPointValue.longitude)===jo(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return jo(t.integerValue)===jo(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=jo(t.doubleValue),r=jo(e.doubleValue);return n===r?Ro(n)===Ro(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ro(t.arrayValue.values||[],e.arrayValue.values||[],Fo);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Io(n)!==Io(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fo(n[i],r[i])))return!1;return!0}(t,e);default:return Zi()}}function Uo(t,e){return void 0!==(t.values||[]).find(function(t){return Fo(t,e)})}function Ho(t,e){var n=Lo(t),r=Lo(e);if(n!==r)return no(n,r);switch(n){case 0:return 0;case 1:return no(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=jo(t.integerValue||t.doubleValue),r=jo(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Bo(t.timestampValue,e.timestampValue);case 4:return Bo(Po(t),Po(e));case 5:return no(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ko(t),r=ko(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=no(n[i],r[i]);if(0!==o)return o}return no(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=no(jo(t.latitude),jo(e.latitude));return 0!==n?n:no(jo(t.longitude),jo(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ho(n[i],r[i]);if(o)return o}return no(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=no(r[s],o[s]);if(0!==u)return u;var a=Ho(n[r[s]],i[o[s]]);if(0!==a)return a}return no(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Zi()}}function Bo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return no(t,e);var n=So(t),r=So(e),i=no(n.seconds,r.seconds);return 0!==i?i:no(n.nanos,r.nanos)}function qo(t){return zo(t)}function zo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=So(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ko(t.bytesValue).toBase64():"referenceValue"in t?Oo.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=zo(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+zo(t.fields[o])}return e+"}"}(t.mapValue):Zi();var e}function Go(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Wo(t){return!!t&&"integerValue"in t}function Qo(t){return!!t&&"arrayValue"in t}function Yo(t){return!!t&&"nullValue"in t}function Ko(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xo(t){return!!t&&"mapValue"in t}var Zo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Xo(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Fo(this.proto,t.proto)},t}(),$o=function(){function t(t){void 0===t&&(t=Zo.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Lo(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Eo.ct(),this.At);return null!=t?new Zo(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Xo(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Jo(t){var e=[];return To(t.fields||{},function(t,n){var r=new Eo([t]);if(Xo(n)){var i=Jo(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Ao(e)}var ts=function(t,e){this.key=t,this.version=e},es=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Bi.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(ts),ns=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Bi.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ts),rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ts),is=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function os(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new is(t,e,n,r,i,o,s)}function ss(t){var e=Ji(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+qo(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),Vo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ms(e.startAt)),e.endAt&&(n+="|ub:",n+=ms(e.endAt)),e.vt=n}return e.vt}function us(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!_s(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Fo(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Os(t.startAt,e.startAt)&&Os(t.endAt,e.endAt)}function as(t){return Oo.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var cs=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Bi.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new ls(t,n,r):"array-contains"===n?new ps(t,r):"in"===n?new ys(t,r):"not-in"===n?new vs(t,r):"array-contains-any"===n?new gs(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new hs(t,n):new fs(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Ho(e,this.value)):null!==e&&Lo(this.value)===Lo(e)&&this.Dt(Ho(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Zi()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ls=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Oo.ft(r.referenceValue),i}return Object(Bi.c)(e,t),e.prototype.matches=function(t){var e=Oo.H(t.key,this.key);return this.Dt(e)},e}(cs),hs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ds(0,n),r}return Object(Bi.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(cs),fs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ds(0,n),r}return Object(Bi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(cs);function ds(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Oo.ft(t.referenceValue)})}var ps=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Bi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Qo(e)&&Uo(e.arrayValue,this.value)},e}(cs),ys=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Bi.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Uo(this.value.arrayValue,e)},e}(cs),vs=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Bi.c)(e,t),e.prototype.matches=function(t){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Uo(this.value.arrayValue,e)},e}(cs),gs=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Bi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Qo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Uo(e.value.arrayValue,t)})},e}(cs),bs=function(t,e){this.position=t,this.before=e};function ms(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return qo(t)}).join(",")}var ws=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function _s(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Es(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?Oo.H(Oo.ft(s.referenceValue),n.key):Ho(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Os(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Fo(t.position[n],e.position[n]))return!1;return!0}var Is=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Nt=null,this.$t=null};function Ts(t,e,n,r,i,o,s,u){return new Is(t,e,n,r,i,o,s,u)}function Cs(t){return new Is(t)}function As(t){return!Vo(t.limit)&&"F"===t.limitType}function xs(t){return!Vo(t.limit)&&"L"===t.limitType}function Ss(t){return t.xt.length>0?t.xt[0].field:null}function js(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function ks(t){return null!==t.collectionGroup}function Ns(t){var e=Ji(t);if(null===e.Nt){e.Nt=[];var n=js(e),r=Ss(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new ws(n)),e.Nt.push(new ws(Eo.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var u=s[o];e.Nt.push(u),u.field.ut()&&(i=!0)}if(!i){var a=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new ws(Eo.ht(),a))}}}return e.Nt}function Ds(t){var e=Ji(t);if(!e.$t)if("F"===e.limitType)e.$t=os(e.path,e.collectionGroup,Ns(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ns(e);r<i.length;r++){var o=i[r];n.push(new ws(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new bs(e.endAt.position,!e.endAt.before):null,u=e.startAt?new bs(e.startAt.position,!e.startAt.before):null;e.$t=os(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.$t}function Ps(t,e,n){return new Is(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vs(t,e){return us(Ds(t),Ds(e))&&t.limitType===e.limitType}function Rs(t){return ss(Ds(t))+"|lt:"+t.limitType}function Ms(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+qo(e.value);var e}).join(", ")+"]"),Vo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ms(t.startAt)),t.endAt&&(e+=", endAt: "+ms(t.endAt)),"Target("+e+")"}(Ds(t))+"; limitType="+t.limitType+")"}function Ls(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Oo.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Es(t.startAt,Ns(t),e)||t.endAt&&Es(t.endAt,Ns(t),e))}(t,e)}function Fs(t){return function(e,n){for(var r=!1,i=0,o=Ns(t);i<o.length;i++){var s=o[i],u=Us(s,e,n);if(0!==u)return u;r=r||s.field.ut()}return 0}}function Us(t,e,n){var r=t.field.ut()?Oo.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ho(r,i):Zi()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Zi()}}var Hs=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=bo.min()),void 0===o&&(o=bo.min()),void 0===s&&(s=oo.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Bs(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ro(e)?"-0":e}}function qs(t){return{integerValue:""+t}}function zs(t,e){return Mo(e)?qs(e):Bs(t,e)}var Gs=function(){this.qt=void 0};function Ws(t,e,n){return t instanceof Ks?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Xs?Zs(t,e):t instanceof $s?Js(t,e):function(t,e){var n=Ys(t,e),r=eu(n)+eu(t.Ut);return Wo(n)&&Wo(t.Ut)?qs(r):Bs(t.Qt,r)}(t,e)}function Qs(t,e,n){return t instanceof Xs?Zs(t,e):t instanceof $s?Js(t,e):n}function Ys(t,e){return t instanceof tu?Wo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ks=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e}(Gs),Xs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Bi.c)(e,t),e}(Gs);function Zs(t,e){for(var n=nu(e),r=function(t){n.some(function(e){return Fo(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var $s=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Bi.c)(e,t),e}(Gs);function Js(t,e){for(var n=nu(e),r=function(t){n=n.filter(function(e){return!Fo(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Bi.c)(e,t),e}(Gs);function eu(t){return jo(t.integerValue||t.doubleValue)}function nu(t){return Qo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ru=function(t,e){this.field=t,this.transform=e},iu=function(t,e){this.version=t,this.transformResults=e},ou=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function su(t,e){return void 0!==t.updateTime?e instanceof es&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof es}var uu=function(){};function au(t,e,n){return t instanceof du?function(t,e,n){var r=t.value;if(n.transformResults){var i=vu(t.fieldTransforms,e,n.transformResults);r=bu(t.fieldTransforms,r,i)}return new es(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof pu?function(t,e,n){if(!su(t.jt,e))return new rs(t.key,n.version);var r=yu(t,e,n.transformResults?vu(t.fieldTransforms,e,n.transformResults):[]);return new es(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ns(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function cu(t,e,n){return t instanceof du?function(t,e,n){if(!su(t.jt,e))return e;var r=t.value,i=gu(t.fieldTransforms,n,e);r=bu(t.fieldTransforms,r,i);var o=fu(e);return new es(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof pu?function(t,e,n){if(!su(t.jt,e))return e;var r=fu(e),i=yu(t,e,gu(t.fieldTransforms,n,e));return new es(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return su(t.jt,e)?new ns(t.key,bo.min()):e}(t,e)}function lu(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof es?e.field(o.field):void 0,u=Ys(o.transform,s||null);null!=u&&(n=null==n?(new $o).set(o.field,u):n.set(o.field,u))}return n?n.Pt():null}(t.fieldTransforms,e)}function hu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ro(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Xs&&e instanceof Xs||t instanceof $s&&e instanceof $s?ro(t.elements,e.elements,Fo):t instanceof tu&&e instanceof tu?Fo(t.Ut,e.Ut):t instanceof Ks&&e instanceof Ks}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function fu(t){return t instanceof es?t.version:bo.min()}var du=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(Bi.c)(e,t),e}(uu),pu=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(Bi.c)(e,t),e}(uu);function yu(t,e,n){var r;return r=function(t,e){var n=new $o(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof es?e.data():Zo.empty()),bu(t.fieldTransforms,r,n)}function vu(t,e,n){var r=[];$i(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof es&&(u=e.field(o.field)),r.push(Qs(s,u,n[i]))}return r}function gu(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof es&&(a=n.field(s.field)),r.push(Ws(u,a,e))}return r}function bu(t,e,n){for(var r=new $o(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var mu,wu,_u=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Bi.c)(e,t),e}(uu),Eu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Bi.c)(e,t),e}(uu),Ou=function(t){this.count=t};function Iu(t){switch(t){case so.OK:return Zi();case so.CANCELLED:case so.UNKNOWN:case so.DEADLINE_EXCEEDED:case so.RESOURCE_EXHAUSTED:case so.INTERNAL:case so.UNAVAILABLE:case so.UNAUTHENTICATED:return!1;case so.INVALID_ARGUMENT:case so.NOT_FOUND:case so.ALREADY_EXISTS:case so.PERMISSION_DENIED:case so.FAILED_PRECONDITION:case so.ABORTED:case so.OUT_OF_RANGE:case so.UNIMPLEMENTED:case so.DATA_LOSS:return!0;default:return Zi()}}function Tu(t){if(void 0===t)return Yi("GRPC error has no .code"),so.UNKNOWN;switch(t){case mu.OK:return so.OK;case mu.CANCELLED:return so.CANCELLED;case mu.UNKNOWN:return so.UNKNOWN;case mu.DEADLINE_EXCEEDED:return so.DEADLINE_EXCEEDED;case mu.RESOURCE_EXHAUSTED:return so.RESOURCE_EXHAUSTED;case mu.INTERNAL:return so.INTERNAL;case mu.UNAVAILABLE:return so.UNAVAILABLE;case mu.UNAUTHENTICATED:return so.UNAUTHENTICATED;case mu.INVALID_ARGUMENT:return so.INVALID_ARGUMENT;case mu.NOT_FOUND:return so.NOT_FOUND;case mu.ALREADY_EXISTS:return so.ALREADY_EXISTS;case mu.PERMISSION_DENIED:return so.PERMISSION_DENIED;case mu.FAILED_PRECONDITION:return so.FAILED_PRECONDITION;case mu.ABORTED:return so.ABORTED;case mu.OUT_OF_RANGE:return so.OUT_OF_RANGE;case mu.UNIMPLEMENTED:return so.UNIMPLEMENTED;case mu.DATA_LOSS:return so.DATA_LOSS;default:return Zi()}}(wu=mu||(mu={}))[wu.OK=0]="OK",wu[wu.CANCELLED=1]="CANCELLED",wu[wu.UNKNOWN=2]="UNKNOWN",wu[wu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wu[wu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wu[wu.NOT_FOUND=5]="NOT_FOUND",wu[wu.ALREADY_EXISTS=6]="ALREADY_EXISTS",wu[wu.PERMISSION_DENIED=7]="PERMISSION_DENIED",wu[wu.UNAUTHENTICATED=16]="UNAUTHENTICATED",wu[wu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wu[wu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wu[wu.ABORTED=10]="ABORTED",wu[wu.OUT_OF_RANGE=11]="OUT_OF_RANGE",wu[wu.UNIMPLEMENTED=12]="UNIMPLEMENTED",wu[wu.INTERNAL=13]="INTERNAL",wu[wu.UNAVAILABLE=14]="UNAVAILABLE",wu[wu.DATA_LOSS=15]="DATA_LOSS";var Cu=function(){function t(t,e){this.H=t,this.root=e||xu.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,xu.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,xu.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new Au(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new Au(this.root,t,this.H,!1)},t.prototype.ne=function(){return new Au(this.root,null,this.H,!0)},t.prototype.se=function(t){return new Au(this.root,t,this.H,!0)},t}(),Au=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),xu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Zi();if(this.right.le())throw Zi();var t=this.left.Ie();if(t!==this.right.Ie())throw Zi();return t+(this.le()?0:1)},t}();xu.EMPTY=null,xu.RED=!0,xu.Ht=!1,xu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Zi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Zi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Zi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Zi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Zi()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new xu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var Su=function(){function t(t){this.H=t,this.data=new Cu(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new ju(this.data.te())},t.prototype.ee=function(t){return new ju(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),ju=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),ku=new Cu(Oo.H);function Nu(){return ku}function Du(){return Nu()}var Pu=new Cu(Oo.H);function Vu(){return Pu}var Ru=new Cu(Oo.H);function Mu(){return Ru}var Lu=new Su(Oo.H);function Fu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Lu,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Uu=new Su(no);function Hu(){return Uu}var Bu=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Oo.H(e.key,n.key)}:function(t,e){return Oo.H(t.key,e.key)},this.ge=Vu(),this.Ve=new Cu(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),qu=function(){function t(){this.be=new Cu(Oo.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Zi():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),zu=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=u}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Bu.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Vs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Gu=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Wu.Le(e,n)),new t(bo.min(),r,Hu(),Nu(),Fu())},t}(),Wu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(oo.T,n,Fu(),Fu(),Fu())},t}(),Qu=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Yu=function(t,e){this.targetId=t,this.je=e},Ku=function(t,e,n,r){void 0===n&&(n=oo.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Xu=function(){function t(){this.Ge=0,this.ze=Ju(),this.He=oo.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Fu(),e=Fu(),n=Fu();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Zi()}}),new Wu(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Ju()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Zu=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Nu(),this._n=$u(),this.fn=new Su(no)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof es?this.wn(r,t.We):t.We instanceof ns&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Zi()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(as(i))if(0===n){var o=new Oo(i.path);this.En(e,o,new ns(o,bo.min()))}else $i(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&as(o.target)){var s=new Oo(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new ns(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Fu();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Gu(t,n,this.fn,this.ln,r);return this.ln=Nu(),this._n=$u(),this.fn=new Su(no),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Xu,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new Su(no),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Qi("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Xu),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function $u(){return new Cu(Oo.H)}function Ju(){return new Cu(Oo.H)}var ta={asc:"ASCENDING",desc:"DESCENDING"},ea={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},na=function(t,e){this.t=t,this.Bt=e};function ra(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ia(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function oa(t,e){return ra(t,e.j())}function sa(t){return $i(!!t),bo.K(function(t){var e=So(t);return new go(e.seconds,e.nanos)}(t))}function ua(t,e){return function(t){return new wo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function aa(t){var e=wo.ot(t);return $i(Na(e)),e}function ca(t,e){return ua(t.t,e.path)}function la(t,e){var n=aa(e);if(n.get(1)!==t.t.projectId)throw new uo(so.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new uo(so.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Oo(pa(n))}function ha(t,e){return ua(t.t,e)}function fa(t){var e=aa(t);return 4===e.length?wo.ct():pa(e)}function da(t){return new wo(["projects",t.t.projectId,"databases",t.t.database]).rt()}function pa(t){return $i(t.length>4&&"documents"===t.get(4)),t.Y(5)}function ya(t,e,n){return{name:ca(t,e),fields:n.proto.mapValue.fields}}function va(t,e,n){var r=la(t,e.name),i=sa(e.updateTime),o=new Zo({mapValue:{fields:e.fields}});return new es(r,i,o,{hasCommittedMutations:!!n})}function ga(t,e){var n;if(e instanceof du)n={update:ya(t,e.key,e.value)};else if(e instanceof _u)n={delete:ca(t,e.key)};else if(e instanceof pu)n={update:ya(t,e.key,e.data),updateMask:ka(e.Gt)};else{if(!(e instanceof Eu))return Zi();n={verify:ca(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ks)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xs)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof $s)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof tu)return{fieldPath:e.field.rt(),increment:n.Ut};throw Zi()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:oa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Zi()}(t,e.jt)),n}function ba(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ou.updateTime(sa(t.updateTime)):void 0!==t.exists?ou.exists(t.exists):ou.Kt()}(e.currentDocument):ou.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?($i("REQUEST_TIME"===e.setToServerValue),n=new Ks):"appendMissingElements"in e?n=new Xs(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new $s(e.removeAllFromArray.values||[]):"increment"in e?n=new tu(t,e.increment):Zi();var r=Eo.lt(e.fieldPath);return new ru(r,n)}(t,e)}):[];if(e.update){var i=la(t,e.update.name),o=new Zo({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Ao((t.fieldPaths||[]).map(function(t){return Eo.lt(t)}))}(e.updateMask);return new pu(i,o,s,n,r)}return new du(i,o,n,r)}if(e.delete){var u=la(t,e.delete);return new _u(u,n)}if(e.verify){var a=la(t,e.verify);return new Eu(a,n)}return Zi()}function ma(t,e){return{documents:[ha(t,e.path)]}}function wa(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ha(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ha(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ko(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NAN"}};if(Yo(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ko(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NOT_NAN"}};if(Yo(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(t.field),op:Ca(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Aa(t.field),direction:Ta(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||Vo(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Oa(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Oa(e.endAt)),n}function _a(t){var e=fa(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$i(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Ea(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new ws(xa(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return Vo(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ia(n.startAt));var l=null;return n.endAt&&(l=Ia(n.endAt)),Ts(e,i,u,s,a,"F",c,l)}function Ea(t){return t?void 0!==t.unaryFilter?[ja(t)]:void 0!==t.fieldFilter?[Sa(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Ea(t)}).reduce(function(t,e){return t.concat(e)}):Zi():[]}function Oa(t){return{before:t.before,values:t.position}}function Ia(t){return new bs(t.values||[],!!t.before)}function Ta(t){return ta[t]}function Ca(t){return ea[t]}function Aa(t){return{fieldPath:t.rt()}}function xa(t){return Eo.lt(t.fieldPath)}function Sa(t){return cs.create(xa(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Zi()}}(t.fieldFilter.op),t.fieldFilter.value)}function ja(t){switch(t.unaryFilter.op){case"IS_NAN":var e=xa(t.unaryFilter.field);return cs.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=xa(t.unaryFilter.field);return cs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xa(t.unaryFilter.field);return cs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xa(t.unaryFilter.field);return cs.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Zi()}}function ka(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function Na(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Da=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Pa=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Zi(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),Va=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Da,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new La(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=qa(e.target.error);n.Bn.reject(new La(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new La(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Qi("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ua(e)},t}(),Ra=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(Ft.g)())&&Yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Qi("SimpleDb","Removing database:",t),Ha(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Ft.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Bi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Bi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Qi("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new La(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new uo(so.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new La(t,n))},i.onupgradeneeded=function(t){Qi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Qi("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Bi.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(Bi.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(Bi.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=h.sent(),e=Va.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Pa.reject(t)}).On(),a={},s.catch(function(){}),[4,e.qn];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Qi("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ma=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Ha(this.Zn.delete())},t}(),La=function(t){function e(e,n){var r=this;return(r=t.call(this,so.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Bi.c)(e,t),e}(uo);function Fa(t){return"IndexedDbTransactionError"===t.name}var Ua=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Qi("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Qi("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ha(n)},t.prototype.add=function(t){return Qi("SimpleDb","ADD",this.store.name,t,t),Ha(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ha(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Qi("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Qi("SimpleDb","DELETE",this.store.name,t),Ha(this.store.delete(t))},t.prototype.count=function(){return Qi("SimpleDb","COUNT",this.store.name),Ha(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Qi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Pa(function(n,r){e.onerror=function(t){var e=qa(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new Pa(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ma(i),s=e(i.primaryKey,i.value,o);if(s instanceof Pa){var u=s.catch(function(t){return o.done(),Pa.reject(t)});n.push(u)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return Pa.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ha(t){return new Pa(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=qa(t.target.error);n(e)}})}var Ba=!1;function qa(t){var e=Ra.Qn(Object(Ft.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new uo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ba||(Ba=!0,setTimeout(function(){throw r},0)),r}}return t}var za=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Da,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new uo(so.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Ga(t,e){if(Yi("AsyncQueue",e+": "+t),Fa(t))return new uo(so.UNAVAILABLE,e+": "+t);throw t}var Wa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qa=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Ya(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Xa(e)),e=Ka(t.get(n),e);return Xa(e)}function Ka(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Xa(t){return t+"\x01\x01"}function Za(t){var e=t.length;if($i(e>=2),2===e)return $i("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wo.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Zi(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Zi()}o=s+2}return new wo(r)}var $a=function(t,e){this.seconds=t,this.nanoseconds=e},Ja=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ja.store="owner",Ja.key="owner";var tc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};tc.store="mutationQueues",tc.keyPath="userId";var ec=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ec.store="mutations",ec.keyPath="batchId",ec.userMutationsIndex="userMutationsIndex",ec.userMutationsKeyPath=["userId","batchId"];var nc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ya(e)]},t.key=function(t,e,n){return[t,Ya(e),n]},t}();nc.store="documentMutations",nc.PLACEHOLDER=new nc;var rc=function(t,e){this.path=t,this.readTime=e},ic=function(t,e){this.path=t,this.version=e},oc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};oc.store="remoteDocuments",oc.readTimeIndex="readTimeIndex",oc.readTimeIndexPath="readTime",oc.collectionReadTimeIndex="collectionReadTimeIndex",oc.collectionReadTimeIndexPath=["parentPath","readTime"];var sc=function(t){this.byteSize=t};sc.store="remoteDocumentGlobal",sc.key="remoteDocumentGlobalKey";var uc=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};uc.store="targets",uc.keyPath="targetId",uc.queryTargetsIndexName="queryTargetsIndex",uc.queryTargetsKeyPath=["canonicalId","targetId"];var ac=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ac.store="targetDocuments",ac.keyPath=["targetId","path"],ac.documentTargetsIndex="documentTargetsIndex",ac.documentTargetsKeyPath=["path","targetId"];var cc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};cc.key="targetGlobalKey",cc.store="targetGlobal";var lc=function(t,e){this.collectionId=t,this.parent=e};lc.store="collectionParents",lc.keyPath=["collectionId","parent"];var hc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};hc.store="clientMetadata",hc.keyPath="clientId";var fc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};fc.store="bundles",fc.keyPath="bundleId";var dc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};dc.store="namedQueries",dc.keyPath="name";var pc=Object(Bi.g)(Object(Bi.g)(Object(Bi.g)(Object(Bi.g)([tc.store,ec.store,nc.store,oc.store,uc.store,Ja.store,cc.store,ac.store],[hc.store]),[sc.store]),[lc.store]),[fc.store,dc.store]),yc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Bi.c)(e,t),e}(Qa);function vc(t,e){var n=Ji(t);return Ra.zn(n.ps,e)}var gc=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=au(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=cu(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=cu(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Fu())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,function(t,e){return hu(t,e)})&&ro(this.baseMutations,t.baseMutations,function(t,e){return hu(t,e)})},t}(),bc=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){$i(e.mutations.length===r.length);for(var i=Mu(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),mc=function(t){this.Fs=t};function wc(t,e){if(e.document)return va(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Oo.Et(e.noDocument.path),r=Tc(e.noDocument.readTime);return new ns(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Oo.Et(e.unknownDocument.path);return r=Tc(e.unknownDocument.version),new rs(i,r)}return Zi()}function _c(t,e,n){var r=Ec(n),i=e.key.path.X().it();if(e instanceof es){var o=function(t,e){return{name:ca(t,e.key),fields:e.bt().mapValue.fields,updateTime:ra(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new oc(null,null,o,s,r,i)}if(e instanceof ns){var u=e.key.path.it(),a=Ic(e.version);return s=e.hasCommittedMutations,new oc(null,new rc(u,a),null,s,r,i)}if(e instanceof rs){var c=e.key.path.it(),l=Ic(e.version);return new oc(new ic(c,l),null,null,!0,r,i)}return Zi()}function Ec(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Oc(t){var e=new go(t[0],t[1]);return bo.K(e)}function Ic(t){var e=t.j();return new $a(e.seconds,e.nanoseconds)}function Tc(t){var e=new go(t.seconds,t.nanoseconds);return bo.K(e)}function Cc(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ba(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ba(t.Fs,e)}),o=go.fromMillis(e.localWriteTimeMs);return new gc(e.batchId,o,n,i)}function Ac(t){var e,n,r=Tc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Tc(t.lastLimboFreeSnapshotVersion):bo.min();return void 0!==t.query.documents?($i(1===(n=t.query).documents.length),e=Ds(Cs(fa(n.documents[0])))):e=function(t){return Ds(_a(t))}(t.query),new Hs(e,t.targetId,0,t.lastListenSequenceNumber,r,i,oo.fromBase64String(t.resumeToken))}function xc(t,e){var n,r=Ic(e.Ot),i=Ic(e.lastLimboFreeSnapshotVersion);n=as(e.target)?ma(t.Fs,e.target):wa(t.Fs,e.target);var o=e.resumeToken.toBase64();return new uc(e.targetId,ss(e.target),r,o,e.sequenceNumber,i,n)}function Sc(t){var e=_a({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ps(e,e.limit,"L"):e}var jc=function(){function t(){}return t.prototype.Os=function(t,e){return kc(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Tc(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return kc(t).put({bundleId:(n=e).id,createTime:Ic(sa(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Nc(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Sc(e.bundledQuery),readTime:Tc(e.readTime)};var e})},t.prototype.Ls=function(t,e){return Nc(t).put(function(t){return{name:t.name,readTime:Ic(sa(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function kc(t){return vc(t,fc.store)}function Nc(t){return vc(t,dc.store)}var Dc=function(){function t(){this.Bs=new Pc}return t.prototype.qs=function(t,e){return this.Bs.add(e),Pa.resolve()},t.prototype.Us=function(t,e){return Pa.resolve(this.Bs.getEntries(e))},t}(),Pc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new Su(wo.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Su(wo.H)).it()},t}(),Vc=function(){function t(){this.Qs=new Pc}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Ya(i)};return Rc(t).put(o)}return Pa.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[io(e),""],!1,!0);return Rc(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Za(o.parent))}return n})},t}();function Rc(t){return vc(t,lc.store)}var Mc={Ks:!1,Ws:0,js:0,Gs:0},Lc=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Fc(t){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(e){if(t.code!==so.FAILED_PRECONDITION||t.message!==Wa)throw t;return Qi("LocalStore","Unexpectedly lost primary lease"),[2]})})}Lc.Xs=10,Lc.Zs=1e3,Lc.ti=new Lc(41943040,Lc.Xs,Lc.Zs),Lc.ei=new Lc(-1,0,0);var Uc=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){To(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return Co(this.ii)},t}(),Hc=function(){function t(){this.ri=new Uc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:bo.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Pa.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Bc(t,e,n){var r=t.store(ec.store),i=t.store(nc.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.hs({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){$i(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=nc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Pa.Mn(o).next(function(){return c})}function qc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Zi();e=t.noDocument}return JSON.stringify(e).length}var zc=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return $i(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wc(t).hs({index:ec.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Qc(t),s=Wc(t);return s.add({}).next(function(u){$i("number"==typeof u);for(var a=new gc(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ga(t.Fs,e)}),i=n.mutations.map(function(e){return ga(t.Fs,e)});return new ec(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,a),l=[],h=new Su(function(t,e){return no(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],y=nc.key(i.userId,p.key.path,u);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(y,nc.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[u]=a.keys()}),Pa.Mn(l).next(function(){return a})})},t.prototype.Pi=function(t,e){var n=this;return Wc(t).get(e).next(function(t){return t?($i(t.userId===n.userId),Cc(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Pa.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Wc(t).hs({index:ec.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&($i(e.batchId>=r),o=Cc(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Wc(t).hs({index:ec.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wc(t).rs(ec.userMutationsIndex,n).next(function(t){return t.map(function(t){return Cc(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=nc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Qc(t).hs({range:i},function(r,i,s){var u=r[0],a=r[2],c=Za(r[1]);if(u===n.userId&&e.path.isEqual(c))return Wc(t).get(a).next(function(t){if(!t)throw Zi();$i(t.userId===n.userId),o.push(Cc(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new Su(no),i=[];return e.forEach(function(e){var o=nc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Qc(t).hs({range:s},function(t,i,o){var s=t[0],u=t[2],a=Za(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),Pa.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=nc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Su(no);return Qc(t).hs({range:s},function(t,e,o){var s=t[0],a=t[2],c=Za(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Si(t,u)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Wc(t).get(e).next(function(t){if(null===t)throw Zi();$i(t.userId===n.userId),r.push(Cc(n.Qt,t))}))}),Pa.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return Bc(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),Pa.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return Pa.resolve();var r=IDBKeyRange.lowerBound(nc.prefixForUser(e.userId)),i=[];return Qc(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Za(t[1]);i.push(o)}else r.done()}).next(function(){$i(0===i.length)})})},t.prototype.Fi=function(t,e){return Gc(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Yc(t).get(this.userId).next(function(t){return t||new tc(e.userId,-1,"")})},t}();function Gc(t,e,n){var r=nc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Qc(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Wc(t){return vc(t,ec.store)}function Qc(t){return vc(t,nc.store)}function Yc(t){return vc(t,tc.store)}var Kc=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Xc=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Kc(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return bo.K(new go(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Zc(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return $i(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Zc(t).hs(function(s,u){var a=Ac(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Ji(t,a)))}).next(function(){return Pa.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return Zc(t).hs(function(t,n){var r=Ac(n);e(r)})},t.prototype.qi=function(t){return $c(t).get(cc.key).next(function(t){return $i(null!==t),t})},t.prototype.Ui=function(t,e){return $c(t).put(cc.key,e)},t.prototype.Gi=function(t,e){return Zc(t).put(xc(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=ss(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zc(t).hs({range:r,index:uc.queryTargetsIndexName},function(t,n,r){var o=Ac(n);us(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=Jc(t);return e.forEach(function(e){var s=Ya(e.path);i.push(o.put(new ac(n,s))),i.push(r.Ti.nr(t,n,e))}),Pa.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Jc(t);return Pa.forEach(e,function(e){var o=Ya(e.path);return Pa.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Jc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Jc(t),i=Fu();return r.hs({range:n,us:!0},function(t,e,n){var r=Za(t[1]),o=new Oo(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Ya(e.path),r=IDBKeyRange.bound([n],[io(n)],!1,!0),i=0;return Jc(t).hs({index:ac.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Zc(t).get(e).next(function(t){return t?Ac(t):null})},t}();function Zc(t){return vc(t,uc.store)}function $c(t){return vc(t,cc.store)}function Jc(t){return vc(t,ac.store)}function tl(t,e){var n=t[1],r=e[1],i=no(t[0],e[0]);return 0===i?no(n,r):i}var el=function(){function t(t){this.cr=t,this.buffer=new Su(tl),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();tl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),nl=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Qi("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(Bi.b)(e,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Fa(e=n.sent())?(Qi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Fc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),rl=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Pa.resolve(vo.q);var r=new el(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Qi("LruGarbageCollector","Garbage collection skipped; disabled"),Pa.resolve(Mc)):this.pr(t).next(function(r){return r<n.params.zs?(Qi("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Mc):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(Qi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.gr(t,n)}).next(function(t){return a=Date.now(),Wi()<=Lt.a.DEBUG&&Qi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),Pa.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),il=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new rl(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return ol(t,n)},t.prototype.ir=function(t,e,n){return ol(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return ol(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Yc(t).ls(function(r){return Gc(t,r,e).next(function(t){return t&&(n=!0),Pa.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,u){if(u<=e){var a=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),Jc(t).delete([0,Ya(s.path)])})});i.push(a)}}).next(function(){return Pa.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return ol(t,e)},t.prototype.Dr=function(t,e){var n,r=Jc(t),i=vo.q;return r.hs({index:ac.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==vo.q&&e(new Oo(Za(n)),i),i=s,n=o):i=vo.q}).next(function(){i!==vo.q&&e(new Oo(Za(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function ol(t,e){return Jc(t).put(function(t,e){return new ac(0,Ya(t.path),e)}(e,t.bs))}var sl=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return cl(t).put(ll(e),n)},t.prototype.li=function(t,e){var n=cl(t),r=ll(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return cl(t).get(ll(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return cl(t).get(ll(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:qc(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Du();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=Du(),i=new Cu(Oo.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,qc(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return Pa.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return cl(t).hs({range:r},function(t,e,r){for(var s=Oo.Et(t);o&&Oo.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=Vu(),o=e.path.length+1,s={};if(n.isEqual(bo.min())){var u=e.path.it();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.it(),c=Ec(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=oc.collectionReadTimeIndex}return cl(t).hs(s,function(t,n,s){if(t.length===o){var u=wc(r.Qt,n);e.path.nt(u.key.path)?u instanceof es&&Ls(e,u)&&(i=i.zt(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new ul(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return al(t).get(sc.key).next(function(t){return $i(!!t),t})},t.prototype.kr=function(t,e){return al(t).put(sc.key,e)},t.prototype.Mr=function(t){if(t){var e=wc(this.Qt,t);return e instanceof ns&&e.version.isEqual(bo.min())?null:e}return null},t}(),ul=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Uc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Bi.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new Su(function(t,e){return no(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var u=e.Gr.get(o);if(s.hi){var a=_c(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=qc(a);r+=c-u,n.push(e.jr.ai(t,o,a))}else if(r-=u,e.Wr){var l=_c(e.jr.Qt,new ns(o,bo.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),Pa.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(Hc);function al(t){return vc(t,sc.store)}function cl(t){return vc(t,oc.store)}function ll(t){return t.path.it()}var hl=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;$i(n<r&&n>=0&&r<=11);var o=new Va("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ja.store)}(t),function(t){t.createObjectStore(tc.store,{keyPath:tc.keyPath}),t.createObjectStore(ec.store,{keyPath:ec.keyPath,autoIncrement:!0}).createIndex(ec.userMutationsIndex,ec.userMutationsKeyPath,{unique:!0}),t.createObjectStore(nc.store)}(t),fl(t),function(t){t.createObjectStore(oc.store)}(t));var s=Pa.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ac.store),t.deleteObjectStore(uc.store),t.deleteObjectStore(cc.store)}(t),fl(t)),s=s.next(function(){return function(t){var e=t.store(cc.store),n=new cc(0,0,bo.min().j(),0);return e.put(cc.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(ec.store).rs().next(function(n){t.deleteObjectStore(ec.store),t.createObjectStore(ec.store,{keyPath:ec.keyPath,autoIncrement:!0}).createIndex(ec.userMutationsIndex,ec.userMutationsKeyPath,{unique:!0});var r=e.store(ec.store),i=n.map(function(t){return r.put(t)});return Pa.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(hc.store,{keyPath:hc.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(sc.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(oc.store);e.createIndex(oc.readTimeIndex,oc.readTimeIndexPath,{unique:!1}),e.createIndex(oc.collectionReadTimeIndex,oc.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(fc.store,{keyPath:fc.keyPath})}(t),function(t){t.createObjectStore(dc.store,{keyPath:dc.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(oc.store).hs(function(t,n){e+=qc(n)}).next(function(){var n=new sc(e);return t.store(sc.store).put(sc.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(tc.store),r=t.store(ec.store);return n.rs().next(function(n){return Pa.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(ec.userMutationsIndex,i).next(function(r){return Pa.forEach(r,function(r){$i(r.userId===n.userId);var i=Cc(e.Qt,r);return Bc(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(ac.store),n=t.store(oc.store);return t.store(cc.store).get(cc.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new wo(n),s=function(t){return[0,Ya(t)]}(o);r.push(e.get(s).next(function(n){return n?Pa.resolve():function(n){return e.put(new ac(0,Ya(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Pa.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(lc.store,{keyPath:lc.keyPath});var n=e.store(lc.store),r=new Pc,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Ya(i)})}};return e.store(oc.store).hs({us:!0},function(t,e){var n=new wo(t);return i(n.X())}).next(function(){return e.store(nc.store).hs({us:!0},function(t,e){var n=Za(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(uc.store);return n.hs(function(t,r){var i=Ac(r),o=xc(e.Qt,i);return n.put(o)})},t}();function fl(t){t.createObjectStore(ac.store,{keyPath:ac.keyPath}).createIndex(ac.documentTargetsIndex,ac.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(uc.store,{keyPath:uc.keyPath}).createIndex(uc.queryTargetsIndexName,uc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(cc.store)}var dl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pl=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=u,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new uo(so.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new il(this,i),this.ho=n+"main",this.Qt=new mc(a),this.lo=new Ra(this.ho,11,new hl(this.Qt)),this._o=new Xc(this.Ti,this.Qt),this.Ei=new Vc,this.fo=function(t,e){return new sl(t,e)}(this.Qt,this.Ei),this.wo=new jc,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new uo(so.FAILED_PRECONDITION,dl);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new vo(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Bi.b)(e,void 0,void 0,function(){return Object(Bi.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(Bi.b)(e,void 0,void 0,function(){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(Bi.b)(e,void 0,void 0,function(){return Object(Bi.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return vl(e).put(new hc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(Fa(e))return Qi("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Qi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return yl(t).get(Ja.key).next(function(t){return Pa.resolve(e.Do(t))})},t.prototype.Co=function(t){return vl(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=vc(t,hc.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Pa.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Pa.resolve(!0):yl(t).get(Ja.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new uo(so.FAILED_PRECONDITION,dl);return!1}}return!(!e.networkEnabled||!e.inForeground)||vl(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Qi("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t=this;return Object(Bi.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Ja.store,hc.store],function(e){var n=new yc(e,vo.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return vl(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return zc.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Qi("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",pc,function(o){return r=new yc(o,i.so?i.so.next():vo.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Yi("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new uo(so.FAILED_PRECONDITION,Wa);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return yl(t).get(Ja.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new uo(so.FAILED_PRECONDITION,dl)})},t.prototype.So=function(t){var e=new Ja(this.clientId,this.allowTabSynchronization,Date.now());return yl(t).put(Ja.key,e)},t.Kn=function(){return Ra.Kn()},t.prototype.vo=function(t){var e=this,n=yl(t);return n.get(Ja.key).next(function(t){return e.Do(t)?(Qi("IndexedDbPersistence","Releasing primary lease."),n.delete(Ja.key)):Pa.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Yi("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Qi("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Yi("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Yi("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function yl(t){return vc(t,Ja.store)}function vl(t){return vc(t,hc.store)}function gl(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var bl=function(t,e){this.progress=t,this.Go=e},ml=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=Du();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=Nu();return i.forEach(function(t,e){e||(e=new ns(t,bo.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return Oo.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):ks(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Oo(e)).next(function(t){var e=Vu();return t instanceof es&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Vu();return this.Ei.Us(t,i).next(function(s){return Pa.forEach(s,function(s){var u=function(t,e){return new Is(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=cu(a,r.get(c),o.vs);r=l instanceof es?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Ls(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Fu(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof pu&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof es&&(c=c.zt(t,e))}),c})},t}(),wl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Fu(),i=Fu(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),_l=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(bo.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(As(e)||xs(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Wi()<=Lt.a.DEBUG&&Qi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ms(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new Su(Fs(t));return e.forEach(function(e,r){r instanceof es&&Ls(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Wi()<=Lt.a.DEBUG&&Qi("QueryEngine","Using full collection scan to execute query:",Ms(e)),this.ac.Kr(t,e,bo.min())},t}(),El=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Cu(no),this.dc=new Uc(function(t){return ss(t)},us),this.wc=bo.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new ml(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function Ol(t,e,n,r){return new El(t,e,n,r)}function Il(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Bi.d)(this,function(s){switch(s.label){case 0:return n=Ji(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new ml(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=Fu(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var y=0,v=p.mutations;y<v.length;y++)s=s.add(v[y].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function Tl(t,e){var n=Ji(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Pa.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);$i(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function Cl(t){var e=Ji(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function Al(t,e){var n=Ji(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var u=i.get(o);if(u){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var a=e.resumeToken;if(a.l()>0){var c=u.Mt(a,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return $i(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(u,c,e)&&s.push(n._o.Hi(t,c))}}});var u=Nu();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(xl(t,o,e.Oe,r,void 0).next(function(t){u=t})),!r.isEqual(bo.min())){var a=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(a)}return Pa.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,u)})}).then(function(t){return n.fc=i,t})}function xl(t,e,n,r,i){var o=Fu();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Nu();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof ns&&s.version.isEqual(bo.min())?(e.li(n,a),o=o.zt(n,s)):null==u||s.version._(u.version)>0||0===s.version._(u.version)&&u.hasPendingWrites?(e.ai(s,a),o=o.zt(n,s)):Qi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function Sl(t,e){var n=Ji(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function jl(t,e){var n=Ji(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?Pa.resolve(r=i):n._o.Bi(t).next(function(i){return r=new Hs(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function kl(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Bi.d)(this,function(u){switch(u.label){case 0:r=Ji(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Fa(s=u.sent()))throw s;return Qi("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Nl(t,e,n){var r=Ji(t),i=bo.min(),o=Fu();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ji(t),i=r.dc.get(n);return void 0!==i?Pa.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,Ds(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:bo.min(),n?o:Fu())}).next(function(t){return{documents:t,Rc:o}})})}function Dl(t,e){var n=Ji(t),r=Ji(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function Pl(t){var e=Ji(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ji(t),i=Nu(),o=Ec(n),s=cl(e),u=IDBKeyRange.lowerBound(o,!0);return s.hs({index:oc.readTimeIndex,range:u},function(t,e){var n=wc(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:Oc(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Vl(t){return Object(Bi.b)(this,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){return[2,(e=Ji(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=cl(t),n=bo.min();return e.hs({index:oc.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Oc(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Rl(t,e,n,r){return Object(Bi.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(Bi.d)(this,function(p){switch(p.label){case 0:for(i=Ji(t),o=Fu(),s=Nu(),u=Mu(),a=0,c=n;a<c.length;a++)h=e.Pc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),u=u.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,jl(i,function(t){return Ds(Cs(wo.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return xl(t,f,s,bo.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Ml(t,e,n){return void 0===n&&(n=Fu()),Object(Bi.b)(this,void 0,void 0,function(){var r,i;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return[4,jl(t,Ds(Sc(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ji(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=sa(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(oo.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var Ll=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return Pa.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:sa(n.createTime)}),Pa.resolve()},t.prototype.Ms=function(t,e){return Pa.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:Sc(t.bundledQuery),readTime:sa(t.readTime)}}(e)),Pa.resolve()},t}(),Fl=function(){function t(){this.vc=new Su(Ul.Sc),this.Dc=new Su(Ul.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Ul(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new Ul(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new Oo(new wo([])),r=new Ul(n,t),i=new Ul(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new Oo(new wo([])),n=new Ul(e,t),r=new Ul(e,t+1),i=Fu();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new Ul(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Ul=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return Oo.H(t.key,e.key)||no(t.Mc,e.Mc)},t.Cc=function(t,e){return no(t.Mc,e.Mc)||Oo.H(t.key,e.key)},t}(),Hl=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new Su(Ul.Sc)}return t.prototype.Ai=function(t){return Pa.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new gc(i,e,n,r);this.zo.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Bc=this.Bc.add(new Ul(a.key,i)),this.Ei.qs(t,a.key.path.X())}return Pa.resolve(o)},t.prototype.Pi=function(t,e){return Pa.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return Pa.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return Pa.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return Pa.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Ul(e,0),i=new Ul(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),Pa.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new Su(no);return e.forEach(function(t){var e=new Ul(t,0),i=new Ul(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),Pa.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Oo.wt(i)||(i=i.child(""));var o=new Ul(new Oo(i),0),s=new Su(no);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),Pa.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;$i(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Pa.forEach(e.mutations,function(i){var o=new Ul(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Ul(e,0),r=this.Bc.Re(n);return Pa.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return Pa.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Bl=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Cu(Oo.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Pa.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Du();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),Pa.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Vu(),i=new Oo(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),u=s.value,a=u.hi,c=u.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||a instanceof es&&Ls(e,a)&&(r=r.zt(a.key,a))}return Pa.resolve(r)},t.prototype.jc=function(t,e){return Pa.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new ql(this)},t.prototype.Or=function(t){return Pa.resolve(this.size)},t}(),ql=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Bi.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),Pa.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Hc),zl=function(){function t(t){this.persistence=t,this.Gc=new Uc(function(t){return ss(t)},us),this.lastRemoteSnapshotVersion=bo.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Fl,this.targetCount=0,this.Jc=Kc.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),Pa.resolve()},t.prototype.Qi=function(t){return Pa.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Pa.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Pa.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Pa.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Kc(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Pa.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Pa.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,Pa.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,u.targetId)),i++)}),Pa.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return Pa.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Pa.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Pa.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),Pa.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),Pa.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return Pa.resolve(n)},t.prototype.Fi=function(t,e){return Pa.resolve(this.Hc.Fi(e))},t}(),Gl=function(){function t(t,e){var n=this;this.Yc={},this.so=new vo(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new zl(this),this.Ei=new Dc,this.fo=function(t,e){return new Bl(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new mc(e),this.wo=new Ll(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Hl(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Qi("MemoryPersistence","Starting transaction:",t);var i=new Wl(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return Pa.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Wl=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Bi.c)(e,t),e}(Qa),Ql=function(){function t(t){this.persistence=t,this.na=new Fl,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Zi()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Pa.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Pa.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Pa.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return Pa.forEach(this.ra,function(r){var i=Oo._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Pa.Ln([function(){return Pa.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Yl(t,e){return"firestore_clients_"+t+"_"+e}function Kl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Xl(t,e){return"firestore_targets_"+t+"_"+e}var Zl=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new uo(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Yi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$l=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new uo(i.error.code,i.error.message)),o?new t(e,i.state,r):(Yi("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Jl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Hu(),s=0;i&&s<r.activeTargetIds.length;++s)i=Mo(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Yi("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),th=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Yi("SharedClientState","Failed to parse online state: "+e),null)},t}(),eh=function(){function t(){this.activeTargetIds=Hu()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),nh=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Cu(no),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Yl(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new eh),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(Bi.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Yl(this.persistenceKey,r)))&&(o=Jl.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),a=0,c=this.Ta;a<c.length;a++)this.wa(c[a]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Xl(this.persistenceKey,t));if(n){var r=$l.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Xl(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Qi("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Qi("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Qi("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Qi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(Bi.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Bi.d)(this,function(u){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=vo.q;if(null!=t)try{var n=JSON.parse(t);$i("number"==typeof n),e=n}catch(t){Yi("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==vo.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Zl(this.currentUser,t,e,n),i=Kl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Kl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Xl(this.persistenceKey,t),i=new $l(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Jl.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Zl.ca(new co(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return $l.ca(r,e)},t.prototype.pa=function(t){return th.ca(t)},t.prototype.Ya=function(t){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Qi("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this._a.su(s,u).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Hu();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),rh=function(){function t(){this.iu=new eh,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new eh,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),ih=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),oh=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Qi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Qi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),sh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},uh=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),ah=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Bi.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new Hi;s.listenOnce(Li.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Mi.NO_ERROR:var e=s.getResponseJson();Qi("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Mi.TIMEOUT:Qi("Connection",'RPC "'+t+'" timed out'),o(new uo(so.DEADLINE_EXCEEDED,"Request time out"));break;case Mi.HTTP_ERROR:var n=s.getStatus();if(Qi("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(so).indexOf(e)>=0?e:so.UNKNOWN}(r.status);o(new uo(u,r.message))}else o(new uo(so.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new uo(so.UNAVAILABLE,"Connection failed."));break;default:Zi()}}finally{Qi("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ni,i=Vn(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(Ft.l)()||Object(Ft.n)()||Object(Ft.j)()||Object(Ft.k)()||Object(Ft.o)()||Object(Ft.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Qi("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new uh({fu:function(t){c?Qi("Connection","Not sending because WebChannel is closed:",t):(a||(Qi("Connection","Opening WebChannel transport."),u.open(),a=!0),Qi("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,Ui.EventType.OPEN,function(){c||Qi("Connection","WebChannel transport opened.")}),h(u,Ui.EventType.CLOSE,function(){c||(c=!0,Qi("Connection","WebChannel transport closed"),l.Ru())}),h(u,Ui.EventType.ERROR,function(t){c||(c=!0,Ki("Connection","WebChannel transport errored:",t),l.Ru(new uo(so.UNAVAILABLE,"The operation could not be completed")))}),h(u,Ui.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];$i(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Qi("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=mu[t];if(void 0!==e)return Tu(e)}(i),s=r.message;void 0===o&&(o=so.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new uo(o,s)),u.close()}else Qi("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,Fi.STAT_EVENT,function(t){10===t.stat?Qi("Connection","Detected buffering proxy"):11===t.stat&&Qi("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Qi("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return Qi("RestConnection","Received: ",t),t},function(e){throw Ki("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+sh[t]},t}());function ch(){return"undefined"!=typeof window?window:null}function lh(){return"undefined"!=typeof document?document:null}function hh(t){return new na(t,!0)}var fh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Qi("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),dh=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new fh(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===so.RESOURCE_EXHAUSTED?(Yi(e.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===so.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new uo(so.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(Bi.b)(t,void 0,void 0,function(){return Object(Bi.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Qi("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Qi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ph=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(Bi.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Zi()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?($i(void 0===e||"string"==typeof e),oo.fromBase64String(e||"")):($i(void 0===e||e instanceof Uint8Array),oo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?so.UNKNOWN:Tu(t.code);return new uo(e,t.message||"")}(u);n=new Ku(r,i,o,s||null)}else if("documentChange"in e){i=la(t,(r=e.documentChange).document.name),o=sa(r.document.updateTime);var u=new Zo({mapValue:{fields:r.document.fields}}),a=(s=new es(i,o,u,{}),r.targetIds||[]);n=new Qu(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=la(t,(r=e.documentDelete).document),o=r.readTime?sa(r.readTime):bo.min(),u=new ns(i,o),n=new Qu([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=la(t,(r=e.documentRemove).document),n=new Qu([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Zi();var c=e.filter;i=new Ou(r=c.count||0),n=new Yu(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return bo.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?bo.min():e.readTime?sa(e.readTime):bo.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=da(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=as(r)?{documents:ma(t,r)}:{query:wa(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=ia(t,e.resumeToken):e.Ot._(bo.min())>0&&(n.readTime=ra(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zi()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=da(this.Qt),e.removeTarget=t,this.th(e)},e}(dh),yh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(Bi.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if($i(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?($i(void 0!==e),t.map(function(t){return function(t,e){var n=sa(t.updateTime?t.updateTime:e);n.isEqual(bo.min())&&(n=sa(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new iu(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=sa(t.commitTime);return this.listener.dh(n,e)}return $i(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=da(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ga(e.Qt,t)})};this.th(n)},e}(dh),vh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Bi.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new uo(so.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===so.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===so.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),gh=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Yi(e),this.Rh=!1):Qi("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),bh=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(Bi.b)(o,void 0,void 0,function(){return Object(Bi.d)(this,function(t){switch(t.label){case 0:return Ah(this)?(Qi("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Bi.b)(this,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return(e=Ji(t)).Nh.add(4),[4,wh(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,mh(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new gh(n,r)};function mh(t){return Object(Bi.b)(this,void 0,void 0,function(){var e,n;return Object(Bi.d)(this,function(r){switch(r.label){case 0:if(!Ah(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function wh(t){return Object(Bi.b)(this,void 0,void 0,function(){var e,n;return Object(Bi.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function _h(t,e){var n=Ji(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Ch(n)?Th(n):Bh(n).Hu()&&Oh(n,e))}function Eh(t,e){var n=Ji(t),r=Bh(n);n.xh.delete(e),r.Hu()&&Ih(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Ah(n)&&n.Oh.set("Unknown"))}function Oh(t,e){t.kh.on(e.targetId),Bh(t).uh(e)}function Ih(t,e){t.kh.on(e),Bh(t).hh(e)}function Th(t){t.kh=new Zu({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Bh(t).start(),t.Oh.Ph()}function Ch(t){return Ah(t)&&!Bh(t).zu()&&t.xh.size>0}function Ah(t){return 0===Ji(t).Nh.size}function xh(t){t.kh=void 0}function Sh(t){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(e){return t.xh.forEach(function(e,n){Oh(t,e)}),[2]})})}function jh(t,e){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(n){return xh(t),Ch(t)?(t.Oh.Vh(e),Th(t)):t.Oh.set("Unknown"),[2]})})}function kh(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i,o;return Object(Bi.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Ku&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Bi.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Qi("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Nh(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Qu?t.kh.dn(e):e instanceof Yu?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(bo.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Cl(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(oo.T,n.Ot)),Ih(t,e);var r=new Hs(n.target,e,1,n.sequenceNumber);Oh(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Qi("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Nh(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Nh(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r=this;return Object(Bi.d)(this,function(i){switch(i.label){case 0:if(!Fa(e))throw e;return t.Nh.add(1),[4,wh(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return Cl(t.bh)}),t._s.po(function(){return Object(Bi.b)(r,void 0,void 0,function(){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return Qi("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,mh(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Dh(t,e){return e().catch(function(n){return Nh(t,n,e)})}function Ph(t){return Object(Bi.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Bi.d)(this,function(s){switch(s.label){case 0:e=Ji(t),n=qh(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Ah(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Sl(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=qh(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Nh(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Vh(e)&&Rh(e),[2]}})})}function Vh(t){return Ah(t)&&!qh(t).zu()&&t.Ch.length>0}function Rh(t){qh(t).start()}function Mh(t){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(e){return qh(t).Eh(),[2]})})}function Lh(t){return Object(Bi.b)(this,void 0,void 0,function(){var e,n,r;return Object(Bi.d)(this,function(i){for(e=qh(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Fh(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=bc.from(r,e,n),[4,Dh(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,Ph(t)];case 2:return o.sent(),[2]}})})}function Uh(t,e){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(n){switch(n.label){case 0:return e&&qh(t)._h?[4,function(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return Iu(r=e.code)&&r!==so.ABORTED?(n=t.Ch.shift(),qh(t).Yu(),[4,Dh(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Ph(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Vh(t)&&Rh(t),[2]}})})}function Hh(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n;return Object(Bi.d)(this,function(r){switch(r.label){case 0:return n=Ji(t),e?(n.Nh.delete(2),[4,mh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,wh(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Bh(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Ji(t);return r.Ih(),new ph(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Sh.bind(null,t),Tu:jh.bind(null,t),ah:kh.bind(null,t)}),t.$h.push(function(n){return Object(Bi.b)(e,void 0,void 0,function(){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Ch(t)?Th(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),xh(t),e.label=3;case 3:return[2]}})})})),t.Uh}function qh(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Ji(t);return r.Ih(),new yh(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Mh.bind(null,t),Tu:Uh.bind(null,t),wh:Lh.bind(null,t),dh:Fh.bind(null,t)}),t.$h.push(function(n){return Object(Bi.b)(e,void 0,void 0,function(){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Ph(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Qi("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var zh=function(){this.Kh=void 0,this.listeners=[]},Gh=function(){this.queries=new Uc(function(t){return Rs(t)},Vs),this.onlineState="Unknown",this.Wh=new Set};function Wh(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Bi.d)(this,function(c){switch(c.label){case 0:if(n=Ji(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new zh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return u=c.sent(),a=Ga(u,"Initialization of query '"+Ms(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Xh(n),[2]}})})}function Qh(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Bi.d)(this,function(u){return n=Ji(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Yh(t,e){for(var n=Ji(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].zh(s)&&(r=!0);u.Kh=s}}r&&Xh(n)}function Kh(t,e,n){var r=Ji(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Xh(t){t.Wh.forEach(function(t){t.next()})}var Zh=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new zu(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=zu.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),$h=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Jh=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return la(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?va(this.Qt,t.document,!1):new ns(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return sa(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Jh(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Fu()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return[4,Rl(this.bh,new Jh(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Ml(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new bl(Object.assign({},this.progress),t))]}})})}}();var tf=function(t){this.key=t},ef=function(t){this.key=t},nf=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Fu(),this.De=Fu(),this.hl=Fs(t),this.ll=new Bu(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new qu,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,u=!1,a=As(this.query)&&i.size===this.query.limit?i.last():null,c=xs(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof es?e:null;h&&(h=Ls(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.hl(h,a)>0||c&&n.hl(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),As(this.query)||xs(this.query))for(;s.size>this.query.limit;){var l=As(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:u,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zi()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],u=0===this.ul.size&&this.Be?1:0,a=u!==this.al;return this.al=u,0!==o.length||a?{snapshot:new zu(this.query,t.ll,i,o,t.De,0===u,a,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new qu,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Fu(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new ef(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new tf(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Fu();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return zu.Ne(this.query,this.ll,this.De,0===this.al)},t}(),rf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},of=function(t){this.key=t,this.Pl=!1},sf=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Uc(function(t){return Rs(t)},Vs),this.Sl=new Map,this.Dl=new Set,this.Cl=new Cu(Oo.H),this.xl=new Map,this.Nl=new Fl,this.$l={},this.Fl=new Map,this.Ol=Kc.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function uf(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Bi.d)(this,function(u){switch(u.label){case 0:return n=Rf(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,jl(n.bh,Ds(e))];case 2:return o=u.sent(),s=n.Vl.Fa(o.targetId),[4,af(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.Ml&&_h(n.yl,o),u.label=4;case 4:return[2,r]}})})}function af(t,e,n,r){return Object(Bi.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(Bi.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Bi.b)(this,void 0,void 0,function(){var i,o,s;return Object(Bi.d)(this,function(u){switch(u.label){case 0:return(i=e.view.fl(n)).lc?[4,Nl(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(_f(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,Nl(t.bh,e,!0)];case 1:return i=l.sent(),o=new nf(e,i.Rc),s=o.fl(i.documents),u=Wu.Le(n,r&&"Offline"!==t.onlineState),a=o.wi(s,t.Ml,u),_f(t,n,a.Il),c=new rf(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),a.snapshot)]}})})}function cf(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return n=Ji(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!Vs(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,kl(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),Eh(n.yl,r.targetId),mf(n,r.targetId)}).catch(Fc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return mf(n,r.targetId),[4,kl(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function lf(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Bi.d)(this,function(u){switch(u.label){case 0:r=Mf(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ji(t),i=go.now(),o=e.reduce(function(t,e){return t.add(e.key)},Fu());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=lu(c,n.get(c.key));null!=l&&s.push(new pu(c.key,l,Jo(l.proto.mapValue),ou.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=u.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new Cu(no)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,If(r,i.ri)];case 3:return u.sent(),[4,Ph(r.yl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Ga(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function hf(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r;return Object(Bi.d)(this,function(i){switch(i.label){case 0:n=Ji(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Al(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&($i(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?$i(r.Pl):t.Qe.size>0&&($i(r.Pl),r.Pl=!1))}),[4,If(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Fc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ff(t,e,n){var r=Ji(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ji(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Xh(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function df(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(Bi.d)(this,function(c){switch(c.label){case 0:return(r=Ji(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new Cu(Oo.H)).zt(o,new ns(o,bo.min())),u=Fu().add(o),a=new Gu(bo.min(),new Map,new Su(no),s,u),[4,hf(r,a)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Of(r),[3,4];case 2:return[4,kl(r.bh,e,!1).then(function(){return mf(r,e,n)}).catch(Fc)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function pf(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bi.d)(this,function(o){switch(o.label){case 0:n=Ji(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Tl(n.bh,e)];case 2:return i=o.sent(),bf(n,r,null),gf(n,r),n.Vl.Na(r,"acknowledged"),[4,If(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function yf(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i;return Object(Bi.d)(this,function(o){switch(o.label){case 0:r=Ji(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ji(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return $i(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),bf(r,e,n),gf(r,e),r.Vl.Na(e,"rejected",n),[4,If(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function vf(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Bi.d)(this,function(u){switch(u.label){case 0:Ah((n=Ji(t)).yl)||Qi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Ji(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=u.sent(),s=Ga(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function gf(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function bf(t,e,n){var r=Ji(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function mf(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||wf(t,e)})}function wf(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Eh(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Of(t))}function _f(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof tf?(t.Nl.nr(o.key,e),Ef(t,o)):o instanceof ef?(Qi("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||wf(t,o.key)):Zi()}}function Ef(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Qi("SyncEngine","New document in limbo: "+n),t.Dl.add(r),Of(t))}function Of(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new Oo(wo.ot(e)),r=t.Ol.next();t.xl.set(r,new of(n)),t.Cl=t.Cl.zt(n,r),_h(t.yl,new Hs(Ds(Cs(n.path)),r,2,vo.q))}}function If(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Bi.d)(this,function(u){switch(u.label){case 0:return r=Ji(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,u){s.push(r.Ll(u,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=wl.oc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(Bi.d)(this,function(l){switch(l.label){case 0:n=Ji(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Pa.forEach(e,function(e){return Pa.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return Pa.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Fa(r=l.sent()))throw r;return Qi("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.fc.get(u),c=a.Lt(a.Ot),n.fc=n.fc.zt(u,c));return[2]}})})}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Tf(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return(n=Ji(t)).currentUser.isEqual(e)?[3,3]:(Qi("SyncEngine","User change. New user:",e.A()),[4,Il(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new uo(so.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,If(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Cf(t,e){var n=Ji(t),r=n.xl.get(e);if(r&&r.Pl)return Fu().add(r.key);var i=Fu(),o=n.Sl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.vl.get(u[s]);i=i.Pe(a.view._l)}return i}function Af(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return[4,Nl((n=Ji(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&_f(n,e.targetId,i.Il),i)]}})})}function xf(t){return Object(Bi.b)(this,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){return[2,Pl((e=Ji(t)).bh).then(function(t){return If(e,t)})]})})}function Sf(t,e,n,r){return Object(Bi.b)(this,void 0,void 0,function(){var i,o;return Object(Bi.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Ji(t),r=Ji(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):Pa.resolve(null)})})}((i=Ji(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ph(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(bf(i,e,r||null),gf(i,e),function(t,e){Ji(Ji(t).zo).xi(e)}(i.bh,e)):Zi(),s.label=4;case 4:return[4,If(i,o)];case 5:return s.sent(),[3,7];case 6:Qi("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function jf(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Bi.d)(this,function(c){switch(c.label){case 0:return Rf(n=Ji(t)),Mf(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,kf(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,Hh(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)_h(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],a=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?u.push(e):a=a.then(function(){return mf(n,e),kl(n.bh,e,!0)}),Eh(n.yl,e)}),[4,a]);case 4:return c.sent(),[4,kf(n,u)];case 5:return c.sent(),function(t){var e=Ji(t);e.xl.forEach(function(t,n){Eh(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new Cu(Oo.H)}(n),n.kl=!1,[4,Hh(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function kf(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(Bi.d)(this,function(y){switch(y.label){case 0:n=Ji(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(a=void 0,(c=n.Sl.get(u=s[o]))&&0!==c.length?[4,jl(n.bh,Ds(c[0]))]:[3,7]):[3,13];case 2:a=y.sent(),l=0,h=c,y.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,Af(n,f)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Dl(n.bh,u)];case 8:return p=y.sent(),[4,jl(n.bh,p)];case 9:return a=y.sent(),[4,af(n,Nf(p),u,!1)];case 10:y.sent(),y.label=11;case 11:r.push(a),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function Nf(t){return Ts(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Df(t){var e=Ji(t);return Ji(Ji(e.bh).persistence).Uo()}function Pf(t,e,n,r){return Object(Bi.b)(this,void 0,void 0,function(){var i,o,s;return Object(Bi.d)(this,function(u){switch(u.label){case 0:return(i=Ji(t)).kl?(Qi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pl(i.bh)];case 3:return o=u.sent(),s=Gu.Me(e,"current"===n),[4,If(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,kl(i.bh,e,!0)];case 6:return u.sent(),mf(i,e,r),[3,8];case 7:Zi(),u.label=8;case 8:return[2]}})})}function Vf(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(Bi.d)(this,function(f){switch(f.label){case 0:if(!(r=Rf(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Qi("SyncEngine","Adding an already active target "+s),[3,5]):[4,Dl(r.bh,s)]:[3,6];case 2:return u=f.sent(),[4,jl(r.bh,u)];case 3:return a=f.sent(),[4,af(r,Nf(u),a.targetId,!1)];case 4:f.sent(),_h(r.yl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,kl(r.bh,t,!1).then(function(){Eh(r.yl,t),mf(r,t)}).catch(Fc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Rf(t){var e=Ji(t);return e.yl.Dh.Lh=hf.bind(null,e),e.yl.Dh.vn=Cf.bind(null,e),e.yl.Dh.Mh=df.bind(null,e),e.bl.ah=Yh.bind(null,e.gl),e.bl.Bl=Kh.bind(null,e.gl),e}function Mf(t){var e=Ji(t);return e.yl.Dh.Bh=pf.bind(null,e),e.yl.Dh.qh=yf.bind(null,e),e}var Lf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return this.Qt=hh(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Ol(this.persistence,new _l,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Gl(Ql.ia,this.Qt)},t.prototype.Wl=function(t){return new rh},t.prototype.terminate=function(){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),Ff=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Bi.c)(e,t),e.prototype.initialize=function(e){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Vl(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Mf(this.Yl._a)];case 4:return n.sent(),[4,Ph(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return Ol(this.persistence,new _l,t.Jl,this.Qt)},e.prototype.zl=function(t){return new nl(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=gl(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Lc.Ys(this.cacheSizeBytes):Lc.ti;return new pl(this.synchronizeTabs,e,t.clientId,n,t._s,ch(),lh(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new rh},e}(Lf),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Bi.c)(e,t),e.prototype.initialize=function(e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r=this;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof nh?(this.Vl._a={eu:Sf.bind(null,n),nu:Pf.bind(null,n),su:Vf.bind(null,n),Uo:Df.bind(null,n),tu:xf.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(Bi.b)(r,void 0,void 0,function(){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return[4,jf(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=ch();if(!nh.Kn(e))throw new uo(so.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gl(t.yu.t,t.yu.persistenceKey);return new nh(e,t._s,n,t.clientId,t.Jl)},e}(Ff),Hf=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n=this;return Object(Bi.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return ff(n._a,t,1)},this.yl.Dh.n_=Tf.bind(null,this._a),[4,Hh(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new Gh},t.prototype.Xl=function(t){var e=hh(t.yu.t),n=new ah(t.yu);return function(t,e,n){return new vh(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return ff(s._a,t,0)},o=oh.Kn()?new oh:new ih,new bh(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var u=new sf(t,e,n,r,i,o);return s&&(u.kl=!0),u}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Bi.b)(this,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return e=Ji(t),Qi("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,wh(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),Bf=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),qf=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new Da,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new $h(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t,e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(Bi.b)(this,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t,e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new uo(so.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Eo(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),zf=function(t){this._methodName=t},Gf=function(t){this.d_=t};function Wf(t,e,n){if(!n)throw new uo(so.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Qf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new uo(so.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Yf(t,e,n,r){if(!0===e&&!0===r)throw new uo(so.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Kf(t){if(!Oo.wt(t))throw new uo(so.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Xf(t){if(Oo.wt(t))throw new uo(so.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Zf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Zi()}function $f(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new uo(so.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zf(t);throw new uo(so.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Jf(t,e){if(e<=0)throw new uo(so.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var td=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new uo(so.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new uo(so.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Yf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ed=new Map,nd=function(){function t(t,e){this.w_="(lite)",this.E_=new td({}),this.T_=!1,t instanceof zi?(this.I_=t,this.m_=new ho):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new uo(so.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zi(t.options.projectId)}(t),this.m_=new fo(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new uo(so.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new uo(so.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new td(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new ho;switch(t.type){case"gapi":var e=t.client;return $i(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new yo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new uo(so.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=ed.get(this))&&(Qi("ComponentProvider","Removing Datastore"),ed.delete(this),t.terminate()),Promise.resolve();var t},t}(),rd=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new od(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),id=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),od=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Cs(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Bi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new rd(this.firestore,null,new Oo(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(id);function sd(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Gf&&(t=t.d_),Wf("collection","path",e),t instanceof nd)return Xf(n=wo.ot.apply(wo,Object(Bi.g)([e],r))),new od(t,null,n);if(!(t instanceof rd||t instanceof od))throw new uo(so.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xf(n=wo.ot.apply(wo,Object(Bi.g)([t.path],r)).child(wo.ot(e))),new od(t.firestore,null,n)}function ud(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Gf&&(t=t.d_),1===arguments.length&&(e=eo.u()),Wf("doc","path",e),t instanceof nd)return Kf(n=wo.ot.apply(wo,Object(Bi.g)([e],r))),new rd(t,null,new Oo(n));if(!(t instanceof rd||t instanceof od))throw new uo(so.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kf(n=t.D_.child(wo.ot.apply(wo,Object(Bi.g)([e],r)))),new rd(t.firestore,t instanceof od?t.v_:null,new Oo(n))}function ad(t,e){return t instanceof Gf&&(t=t.d_),e instanceof Gf&&(e=e.d_),(t instanceof rd||t instanceof od)&&(e instanceof rd||e instanceof od)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function cd(t,e){return t instanceof Gf&&(t=t.d_),e instanceof Gf&&(e=e.d_),t instanceof id&&e instanceof id&&t.firestore===e.firestore&&Vs(t.C_,e.C_)&&t.v_===e.v_}var ld=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new uo(so.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new uo(so.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return no(this.x_,t.x_)||no(this.N_,t.N_)},t}(),hd=/^__.*__$/,fd=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new pu(t,this.data,this.Gt,e,this.fieldTransforms):new du(t,this.data,e,this.fieldTransforms)},t}(),dd=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new pu(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function pd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zi()}}var yd=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Vd(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(pd(this.k_)&&hd.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),vd=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||hh(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new yd({k_:t,methodName:e,j_:n,path:Eo.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function gd(t){var e=t.p_(),n=hh(t.I_);return new vd(t.I_,!!e.ignoreUndefinedProperties,n)}function bd(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);kd("Data must be an object, but it was:",s,r);var u,a,c=Sd(r,s);if(o.merge)u=new Ao(s.Gt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Nd(e,f[h],n);if(!s.contains(d))throw new uo(so.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Rd(l,d)||l.push(d)}u=new Ao(l),a=s.fieldTransforms.filter(function(t){return u.Tt(t.field)})}else u=null,a=s.fieldTransforms;return new fd(new Zo(c),u,a)}var md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(zf);function wd(t,e,n){return new yd({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var _d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.prototype.z_=function(t){return new ru(t.path,new Ks)},e.prototype.isEqual=function(t){return t instanceof e},e}(zf),Ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Bi.c)(e,t),e.prototype.z_=function(t){var e=wd(this,t,!0),n=this.H_.map(function(t){return xd(t,e)}),r=new Xs(n);return new ru(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(zf),Od=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Bi.c)(e,t),e.prototype.z_=function(t){var e=wd(this,t,!0),n=this.H_.map(function(t){return xd(t,e)}),r=new $s(n);return new ru(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(zf),Id=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Bi.c)(e,t),e.prototype.z_=function(t){var e=new tu(t.Qt,zs(t.Qt,this.J_));return new ru(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(zf);function Td(t,e,n,r){var i=t.G_(1,e,n);kd("Data must be an object, but it was:",i,r);var o=[],s=new $o;To(r,function(t,r){var u=Pd(e,t,n);r instanceof Gf&&(r=r.d_);var a=i.U_(u);if(r instanceof md)o.push(u);else{var c=xd(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new Ao(o);return new dd(s.Pt(),u,i.fieldTransforms)}function Cd(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[Nd(e,r,n)],a=[i];if(o.length%2!=0)throw new uo(so.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Nd(e,o[c])),a.push(o[c+1]);for(var l=[],h=new $o,f=u.length-1;f>=0;--f)if(!Rd(l,u[f])){var d=u[f],p=a[f];p instanceof Gf&&(p=p.d_);var y=s.U_(d);if(p instanceof md)l.push(d);else{var v=xd(p,y);null!=v&&(l.push(d),h.set(d,v))}}var g=new Ao(l);return new dd(h.Pt(),g,s.fieldTransforms)}function Ad(t,e,n,r){return void 0===r&&(r=!1),xd(n,t.G_(r?4:3,e))}function xd(t,e){if(t instanceof Gf&&(t=t.d_),jd(t))return kd("Unsupported field value:",e,t),Sd(t,e);if(t instanceof zf)return function(t,e){if(!pd(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=xd(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Gf&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zs(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=go.fromDate(t);return{timestampValue:ra(e.Qt,n)}}if(t instanceof go)return n=new go(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ra(e.Qt,n)};if(t instanceof ld)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ao)return{bytesValue:ia(e.Qt,t.I)};if(t instanceof rd){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ua(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Zf(t))}(t,e)}function Sd(t,e){var n={};return Co(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):To(t,function(t,r){var i=xd(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function jd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof go||t instanceof ld||t instanceof ao||t instanceof rd||t instanceof zf)}function kd(t,e,n){if(!jd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Zf(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Nd(t,e,n){if(e instanceof Gf&&(e=e.d_),e instanceof qf)return e.f_;if("string"==typeof e)return Pd(t,e);throw Vd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Dd=new RegExp("[~\\*/\\[\\]]");function Pd(t,e,n){if(e.search(Dd)>=0)throw Vd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(qf.bind.apply(qf,Object(Bi.g)([void 0],e.split("."))))).f_}catch(r){throw Vd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Vd(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new uo(so.INVALID_ARGUMENT,(u+=". ")+t+a)}function Rd(t,e){return t.some(function(t){return t.isEqual(e)})}var Md=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Bi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Bi.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new uo(so.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(Bi.d)(this,function(a){switch(a.label){case 0:return n=Ji(t),r=da(n.Qt)+"/documents",i={documents:e.map(function(t){return ca(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){$i(!!e.found);var n=la(t,e.found.name),r=sa(e.found.updateTime),i=new Zo({mapValue:{fields:e.found.fields}});return new es(n,r,i,{})}(t,e):"missing"in e?function(t,e){$i(!!e.missing),$i(!!e.readTime);var n=la(t,e.missing),r=sa(e.readTime);return new ns(n,r)}(t,e):Zi()}(n.Qt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());$i(!!e),u.push(e)}),u)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof ns||t instanceof es?n.sf(t):Zi()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new _u(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Bi.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Oo._t(n);e.mutations.push(new Eu(r,e.jt(r)))}),[4,function(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return n=Ji(t),r=da(n.Qt)+"/documents",i={writes:e.map(function(t){return ga(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof es)e=t.version;else{if(!(t instanceof ns))throw Zi();e=bo.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new uo(so.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?ou.updateTime(e):ou.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(bo.min()))throw new uo(so.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ou.updateTime(e)}return ou.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Ld=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new fh(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(Bi.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Bi.d)(this,function(r){return t=new Md(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Vo(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Iu(e)}return!1},t}(),Fd=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=co.UNAUTHENTICATED,this.clientId=eo.u(),this._f=function(){},this.C=new Da,this.credentials.v(function(t){Qi("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new uo(so.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Da;return this._s.Tf(function(){return Object(Bi.b)(t,void 0,void 0,function(){var t,n;return Object(Bi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ga(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ud(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),Qi("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(Bi.b)(i,void 0,void 0,function(){return Object(Bi.d)(this,function(t){switch(t.label){case 0:return[4,Il(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function Hd(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,Bd(t)];case 1:return n=i.sent(),Qi("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(Bi.b)(this,void 0,void 0,function(){var n,r;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return(n=Ji(t))._s.Af(),Qi("RemoteStore","RemoteStore received new credentials"),r=Ah(n),n.Nh.add(3),[4,wh(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,mh(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function Bd(t){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Qi("FirestoreClient","Using default OfflineComponentProvider"),[4,Ud(t,new Lf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function qd(t){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Qi("FirestoreClient","Using default OnlineComponentProvider"),[4,Hd(t,new Hf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function zd(t){return Bd(t).then(function(t){return t.persistence})}function Gd(t){return Bd(t).then(function(t){return t.bh})}function Wd(t){return qd(t).then(function(t){return t.yl})}function Qd(t){return qd(t).then(function(t){return t._a})}function Yd(t){return Object(Bi.b)(this,void 0,void 0,function(){var e,n;return Object(Bi.d)(this,function(r){switch(r.label){case 0:return[4,qd(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=uf.bind(null,e._a),n.Hh=cf.bind(null,e._a),n)]}})})}function Kd(t,e,n){var r=this;void 0===n&&(n={});var i=new Da;return t._s.Ps(function(){return Object(Bi.b)(r,void 0,void 0,function(){var r;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Bf({next:function(o){e.Ps(function(){return Qh(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new uo(so.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new uo(so.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Zh(Cs(n.path),o,{includeMetadataChanges:!0,nl:!0});return Wh(t,s)},[4,Yd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function Xd(t,e,n){var r=this;void 0===n&&(n={});var i=new Da;return t._s.Ps(function(){return Object(Bi.b)(r,void 0,void 0,function(){var r;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Bf({next:function(n){e.Ps(function(){return Qh(t,s)}),n.fromCache&&"server"===r.source?i.reject(new uo(so.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Zh(n,o,{includeMetadataChanges:!0,nl:!0});return Wh(t,s)},[4,Yd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Zd=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new fh(this,"async_queue_retry"),this.vf=function(){var e=lh();e&&Qi("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=lh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=lh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Bi.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Fa(t=n.sent()))throw t;return Qi("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Yi("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=za.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Zi()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Bi.b)(this,void 0,void 0,function(){var t;return Object(Bi.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function $d(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new Da,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var Jd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Zd,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Bi.c)(e,t),e.prototype.b_=function(){return this.qf||ep(this),this.qf.terminate()},e}(nd);function tp(t){return t.qf||ep(t),t.qf.df(),t.qf}function ep(t){var e=t.p_(),n=function(t,e,n){return new qi(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new Fd(t.m_,t.Bf,n)}function np(t,e,n){var r=this,i=new Da;return t._s.enqueue(function(){return Object(Bi.b)(r,void 0,void 0,function(){var r;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ud(t,n)];case 1:return o.sent(),[4,Hd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===so.FAILED_PRECONDITION||t.code===so.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function rp(t){if(t.R_||t.P_)throw new uo(so.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ip=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Lo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jo(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(ko(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Zi()}},t.prototype.Hf=function(t,e){var n=this,r={};return To(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new ld(jo(t.latitude),jo(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Do(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Po(t));default:return null}},t.prototype.Qf=function(t){var e=So(t);return new go(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=wo.ot(t);$i(Na(n));var r=new zi(n.get(1),n.get(3)),i=new Oo(n.Y(5));return r.isEqual(e)||Yi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),op=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new rd(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new sp(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(up("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(op);function up(t,e){return"string"==typeof e?Pd(t,e):e instanceof Gf?e.d_.f_:e.f_}function ap(t){if(xs(t)&&0===t.xt.length)throw new uo(so.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cp=function(){};function lp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var hp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Bi.c)(e,t),e.prototype.td=function(t){var e=gd(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new uo(so.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){bp(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(gp(r,t,l[c]));u={arrayValue:{values:a}}}else u=gp(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||bp(s,o),u=Ad(n,"where",s,"in"===o||"not-in"===o);var h=cs.create(i,o,u);return function(t,e){if(e.Ct()){var n=js(t);if(null!==n&&!n.isEqual(e.field))throw new uo(so.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ss(t);null!==r&&mp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new uo(so.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new id(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Is(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(cp),fp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Bi.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new uo(so.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new uo(so.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ws(e,n);return function(t,e){if(null===Ss(t)){var n=js(t);null!==n&&mp(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new id(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new Is(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(cp),dp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Bi.c)(e,t),e.prototype.td=function(t){return new id(t.firestore,t.v_,Ps(t.C_,this.od,this.ad))},e}(cp),pp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Bi.c)(e,t),e.prototype.td=function(t){var e=vp(t,this.type,this.ud,this.hd);return new id(t.firestore,t.v_,function(t,e){return new Is(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(cp),yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Bi.c)(e,t),e.prototype.td=function(t){var e=vp(t,this.type,this.ud,this.hd);return new id(t.firestore,t.v_,function(t,e){return new Is(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(cp);function vp(t,e,n,r){if(n[0]instanceof Gf&&(n[0]=n[0].d_),n[0]instanceof op)return function(t,e,n,r,i){if(!r)throw new uo(so.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Ns(t);s<u.length;s++){var a=u[s];if(a.field.ut())o.push(Go(e,r.key));else{var c=r.field(a.field);if(No(c))throw new uo(so.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.rt();throw new uo(so.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new bs(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=gd(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new uo(so.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ut()){if("string"!=typeof c)throw new uo(so.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ks(t)&&-1!==c.indexOf("/"))throw new uo(so.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(wo.ot(c));if(!Oo.wt(l))throw new uo(so.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Oo(l);u.push(Go(e,h))}else{var f=Ad(n,r,c);u.push(f)}}return new bs(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function gp(t,e,n){if(n instanceof Gf&&(n=n.d_),"string"==typeof n){if(""===n)throw new uo(so.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ks(e)&&-1!==n.indexOf("/"))throw new uo(so.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wo.ot(n));if(!Oo.wt(r))throw new uo(so.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Go(t,new Oo(r))}if(n instanceof rd)return Go(t,n.S_);throw new uo(so.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zf(n)+".")}function bp(t,e){if(!Array.isArray(t)||0===t.length)throw new uo(so.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new uo(so.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function mp(t,e,n){if(!n.isEqual(e))throw new uo(so.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function wp(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _p=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Bi.c)(e,t),e.prototype.Wf=function(t){return new ao(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new rd(this.firestore,null,e)},e}(ip),Ep=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Op=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).Yf=e,u.ld=e,u.metadata=o,u}return Object(Bi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new Ip(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(up("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(op),Ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Op),Tp=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Ep(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new Ip(n.Yf,n.Xf,r.key,r,new Ep(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new uo(so.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new Ip(t.Yf,t.Xf,e.doc.key,e.doc,new Ep(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ip(t.Yf,t.Xf,e.doc.key,e.doc,new Ep(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Cp(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function Cp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zi()}}function Ap(t,e){return t instanceof Op&&e instanceof Op?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Tp&&e instanceof Tp&&t.Yf===e.Yf&&cd(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var xp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Bi.c)(e,t),e.prototype.Wf=function(t){return new ao(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new rd(this.firestore,null,e)},e}(ip);function Sp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=$f(t,rd);var o=$f(t.firestore,Jd),s=gd(o);return e instanceof Gf&&(e=e.d_),kp(o,[("string"==typeof e||e instanceof qf?Cd(s,"updateDoc",t.S_,e,n,r):Td(s,"updateDoc",t.S_,e)).F_(t.S_,ou.exists(!0))])}function jp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Gf&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||$d(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if($d(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof rd)c=$f(t.firestore,Jd),l=Cs(t.S_.path),a={next:function(e){i[u]&&i[u](Np(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=$f(t,id);c=$f(d.firestore,Jd),l=d.C_;var p=new xp(c);a={next:function(t){i[u]&&i[u](new Tp(c,p,d,t))},error:i[u+1],complete:i[u+2]},ap(t.C_)}return function(t,e,n,r){var i=this,o=new Bf(r),s=new Zh(e,o,n);return t._s.Ps(function(){return Object(Bi.b)(i,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return e=Wh,[4,Yd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(Bi.b)(i,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return e=Qh,[4,Yd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(tp(c),l,h,a)}function kp(t,e){return function(t,e){var n=this,r=new Da;return t._s.Ps(function(){return Object(Bi.b)(n,void 0,void 0,function(){var n;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return n=lf,[4,Qd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(tp(t),e)}function Np(t,e,n){var r=n.docs.get(e.S_),i=new xp(t);return new Op(t,i,e.S_,r,new Ep(n.hasPendingWrites,n.fromCache),e.v_)}var Dp=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=gd(t)}return t.prototype.set=function(t,e,n){this.md();var r=Pp(t,this.Yf),i=wp(r.v_,e,n),o=bd(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,ou.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=Pp(t,this.Yf);return e instanceof Gf&&(e=e.d_),o="string"==typeof e||e instanceof qf?Cd(this.Id,"WriteBatch.update",s.S_,e,n,r):Td(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,ou.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=Pp(t,this.Yf);return this.Ed=this.Ed.concat(new _u(e.S_,ou.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new uo(so.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Pp(t,e){if(t instanceof Gf&&(t=t.d_),t.firestore!==e)throw new uo(so.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Bi.c)(e,t),e.prototype.get=function(e){var n=this,r=Pp(e,this.Yf),i=new xp(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new Op(n.Yf,i,r.S_,t.Zf,new Ep(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=gd(t)}return t.prototype.get=function(t){var e=this,n=Pp(t,this.Yf),r=new _p(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Zi();var i=t[0];if(i instanceof ns)return new op(e.Yf,r,n.S_,null,n.v_);if(i instanceof es)return new op(e.Yf,r,i.key,i,n.v_);throw Zi()})},t.prototype.set=function(t,e,n){var r=Pp(t,this.Yf),i=wp(r.v_,e,n),o=bd(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Pp(t,this.Yf);return e instanceof Gf&&(e=e.d_),o="string"==typeof e||e instanceof qf?Cd(this.Id,"Transaction.update",s.S_,e,n,r):Td(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=Pp(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function Rp(){if("undefined"==typeof Uint8Array)throw new uo(so.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Mp(){if("undefined"==typeof atob)throw new uo(so.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Lp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.fromBase64String=function(t){return Mp(),new e(ao.fromBase64String(t))},e.fromUint8Array=function(t){return Rp(),new e(ao.fromUint8Array(t))},e.prototype.toBase64=function(){return Mp(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Rp(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Gf),Fp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){rp(t=$f(t,Jd));var n=tp(t),r=t.p_(),i=new Hf;return np(n,i,new Ff(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){rp(t=$f(t,Jd));var e=tp(t),n=t.p_(),r=new Hf;return np(e,r,new Uf(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new uo(so.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Da;return t.Bf.Tf(function(){return Object(Bi.b)(e,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Bi.b)(this,void 0,void 0,function(){return Object(Bi.d)(this,function(e){switch(e.label){case 0:return Ra.Kn()?[4,Ra.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(gl(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),Up=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof zi||(i.Pd=e),i}return Object(Bi.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=$f(t,nd)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Ki("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Bi.b)(e,void 0,void 0,function(){var e,n;return Object(Bi.d)(this,function(r){switch(r.label){case 0:return[4,zd(t)];case 1:return e=r.sent(),[4,Wd(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Ji(t);return e.Nh.delete(0),mh(e)}(n))]}})})})}(tp($f(this.d_,Jd)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Bi.b)(e,void 0,void 0,function(){var e,n;return Object(Bi.d)(this,function(r){switch(r.label){case 0:return[4,zd(t)];case 1:return e=r.sent(),[4,Wd(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Bi.b)(this,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return(e=Ji(t)).Nh.add(0),[4,wh(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(tp($f(this.d_,Jd)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Yf("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Da;return t._s.Ps(function(){return Object(Bi.b)(e,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(r){switch(r.label){case 0:return e=vf,[4,Qd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(tp($f(this.d_,Jd)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Bf(e);return t._s.Ps(function(){return Object(Bi.b)(n,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ji(t).Wh.add(e),e.next()},[4,Yd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(Bi.b)(n,void 0,void 0,function(){var e;return Object(Bi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ji(t).Wh.delete(e)},[4,Yd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(tp(t=$f(t,Jd)),$d(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new uo(so.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ty(this,sd(this.d_,t))}catch(t){throw Wp(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Gp(this,ud(this.d_,t))}catch(t){throw Wp(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Zp(this,function(t,e){if(t=$f(t,nd),Wf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new uo(so.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new id(t,null,function(t){return new Is(wo.ct(),t)}(e))}(this.d_,t))}catch(t){throw Wp(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Da;return t._s.Ps(function(){return Object(Bi.b)(n,void 0,void 0,function(){var n;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return qd(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Ld(t._s,n,e,r).run(),[2]}})})}),r.promise}(tp(t),function(n){return e(new Vp(t,n))})}(this.d_,function(n){return t(new Bp(e,n))})},e.prototype.batch=function(){var t=this;return tp(this.d_),new qp(new Dp(this.d_,function(e){return kp(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new uo(so.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new uo(so.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Gf),Hp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Bi.c)(e,t),e.prototype.Wf=function(t){return new Lp(new ao(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Gp.yd(e,this.firestore,null)},e}(ip),Bp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Hp(e),r}return Object(Bi.c)(e,t),e.prototype.get=function(t){var e=this,n=ey(t);return this.d_.get(n).then(function(t){return new Kp(e.Yf,new Op(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=ey(t);return n?(Qf("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ey(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Bi.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=ey(t);return this.d_.delete(e),this},e}(Gf),qp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.prototype.set=function(t,e,n){var r=ey(t);return n?(Qf("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ey(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Bi.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=ey(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Gf),zp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Bi.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Ip(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Xp(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Hp(t),n),i.set(n,o)),o},e}(Gf);zp.Vd=new WeakMap;var Gp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Hp(e),r}return Object(Bi.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new uo(so.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new rd(n.d_,r,new Oo(t)))},e.yd=function(t,n,r){return new e(n,new rd(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ty(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ty(this.firestore,sd(this.d_,t))}catch(t){throw Wp(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Gf&&(t=t.d_),t instanceof rd&&ad(this.d_,t)},e.prototype.set=function(t,e){e=Qf("DocumentReference.set",e);try{return function(t,e,n){t=$f(t,rd);var r=$f(t.firestore,Jd),i=wp(t.v_,e,n);return kp(r,[bd(gd(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,ou.Kt())])}(this.d_,t,e)}catch(t){throw Wp(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Sp(this.d_,t):Sp.apply(void 0,Object(Bi.g)([this.d_,t,e],n))}catch(t){throw Wp(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return kp($f((t=this.d_).firestore,Jd),[new _u(t.S_,ou.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qp(e),i=Yp(e,function(e){return new Kp(t.firestore,new Op(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return jp(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$f(t,rd);var e=$f(t.firestore,Jd),n=tp(e),r=new xp(e);return function(t,e){var n=this,r=new Da;return t._s.Ps(function(){return Object(Bi.b)(n,void 0,void 0,function(){var n;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i;return Object(Bi.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Ji(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof es?n.resolve(i):i instanceof ns?n.resolve(null):n.reject(new uo(so.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ga(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Gd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Op(e,r,t.S_,n,new Ep(n instanceof es&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=$f(t,rd);var e=$f(t.firestore,Jd);return Kd(tp(e),t.S_,{source:"server"}).then(function(n){return Np(e,t,n)})}(this.d_):function(t){t=$f(t,rd);var e=$f(t.firestore,Jd);return Kd(tp(e),t.S_).then(function(n){return Np(e,t,n)})}(this.d_)).then(function(t){return new Kp(e.firestore,new Op(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(zp.gd(this.firestore,t)))},e}(Gf);function Wp(t,e,n){return t.message=t.message.replace(e,n),t}function Qp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!$d(r))return r}return{}}function Yp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=$d(t[0])?t[0]:$d(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Kp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Bi.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Gp(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return Ap(this.d_,t.d_)},e}(Gf),Xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Kp),Zp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Hp(e),r}return Object(Bi.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,lp(this.d_,function(t,e,n){var r=e,i=up("where",t);return new hp(i,r,n)}(t,n,r)))}catch(t){throw Wp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,lp(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=up("orderBy",t);return new fp(r,n)}(t,n)))}catch(t){throw Wp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,lp(this.d_,function(t){return Jf("limit",t),new dp("limit",t,"F")}(t)))}catch(t){throw Wp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,lp(this.d_,function(t){return Jf("limitToLast",t),new dp("limitToLast",t,"L")}(t)))}catch(t){throw Wp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lp(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pp("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Wp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lp(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pp("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Wp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lp(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yp("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Wp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lp(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yp("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Wp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return cd(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$f(t,id);var e=$f(t.firestore,Jd),n=tp(e),r=new xp(e);return function(t,e){var n=this,r=new Da;return t._s.Ps(function(){return Object(Bi.b)(n,void 0,void 0,function(){var n;return Object(Bi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Bi.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(Bi.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Nl(t,e,!0)];case 1:return u=a.sent(),r=new nf(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Ga(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Gd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Tp(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=$f(t,id);var e=$f(t.firestore,Jd),n=tp(e),r=new xp(e);return Xd(n,t.C_,{source:"server"}).then(function(n){return new Tp(e,r,t,n)})}(this.d_):function(t){t=$f(t,id);var e=$f(t.firestore,Jd),n=tp(e),r=new xp(e);return ap(t.C_),Xd(n,t.C_).then(function(n){return new Tp(e,r,t,n)})}(this.d_)).then(function(t){return new Jp(e.firestore,new Tp(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qp(e),i=Yp(e,function(e){return new Jp(t.firestore,new Tp(t.firestore.d_,t.Xf,t.d_,e._d))});return jp(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(zp.gd(this.firestore,t)))},e}(Gf),$p=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Bi.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Xp(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Gf),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Bi.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Zp(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Xp(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new $p(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Xp(n.Yf,r))})},e.prototype.isEqual=function(t){return Ap(this.d_,t.d_)},e}(Gf),ty=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Bi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Gp(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Gp(this.firestore,void 0===t?ud(this.d_):ud(this.d_,t))}catch(t){throw Wp(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=$f(t.firestore,Jd),r=ud(t),i=wp(t.v_,e);return kp(n,[bd(gd(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,ou.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new Gp(e.firestore,t)})},e.prototype.isEqual=function(t){return ad(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(zp.gd(this.firestore,t)))},e}(Zp);function ey(t){return t instanceof Gf&&(t=t.d_),$f(t,rd)}var ny,ry=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(qf.bind.apply(qf,Object(Bi.g)([void 0],e))))||this}return Object(Bi.c)(e,t),e.documentId=function(){return new e(Eo.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Gf&&(t=t.d_),t instanceof qf&&this.d_.f_.isEqual(t.f_)},e}(Gf),iy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Bi.c)(e,t),e.serverTimestamp=function(){var t=new _d("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new md("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ed("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Od("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Id("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Gf),oy=n("/6Yf"),sy={Firestore:Up,GeoPoint:ld,Timestamp:go,Blob:Lp,Transaction:Bp,WriteBatch:qp,DocumentReference:Gp,DocumentSnapshot:Kp,Query:Zp,QueryDocumentSnapshot:Xp,QuerySnapshot:Jp,CollectionReference:ty,FieldPath:ry,FieldValue:iy,setLogLevel:function(t){Gi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new oy.a("firestore",function(t){return function(t,e){return new Up(t,new Jd(t,e),new Fp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},sy)))})(ny=Mt.a),ny.registerVersion("@firebase/firestore","2.1.7");var uy=n("XNiG"),ay=n("VRyK"),cy=n("zx2A");function ly(t,e){return"function"==typeof e?n=>n.pipe(ly((n,r)=>Object(yt.a)(t(n,r)).pipe(Object(Tt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new hy(t))}class hy{constructor(t){this.project=t}call(t,e){return e.subscribe(new fy(t,this.project))}}class fy extends cy.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new cy.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(cy.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var dy=n("qgXg"),py=n("quSY"),yy=n("9ppp"),vy=n("Ylt2");class gy extends uy.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new by(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new yy.a;if(this.isStopped||this.hasError?o=py.a.EMPTY:(this.observers.push(t),o=new vy.a(this,t)),r&&t.add(t=new Pt.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||dy.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class by{constructor(t,e){this.time=t,this.value=e}}function my(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new gy(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const wy=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),_y=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Ey=n("EY2u");function Oy(t){return e=>0===t?Object(Ey.a)():e.lift(new Iy(t))}class Iy{constructor(t){if(this.total=t,this.total<0)throw new _y}call(t,e){return e.subscribe(new Ty(t,this.total))}}class Ty extends _t.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Cy(t=null){return e=>e.lift(new Ay(t))}class Ay{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new xy(t,this.defaultValue))}}class xy extends _t.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Sy(t=Ny){return e=>e.lift(new jy(t))}class jy{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ky(t,this.errorFactory))}}class ky extends _t.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(ny){t=ny}this.destination.error(t)}}}function Ny(){return new wy}var Dy=n("SpAZ");function Py(t,e){return e?ly(()=>t,e):ly(()=>t)}var Vy=n("tf+s");const Ry=new r.l("angularfire2.auth.use-emulator"),My=new r.l("angularfire2.auth.settings"),Ly=new r.l("angularfire2.auth.tenant-id"),Fy=new r.l("angularfire2.auth.langugage-code"),Uy=new r.l("angularfire2.auth.use-device-language"),Hy=new r.l("angularfire.auth.persistence");let By=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new Vt.d(i),f=Object(Vt.h)(h),d=new uy.a,p=Object(vt.a)(void 0).pipe(Object(Pt.b)(h.outsideAngular),ly(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Tt.a)(()=>Object(Vt.g)(t,i,e)),Object(Tt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Vt.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),my({bufferSize:1,refCount:!1}));if(b(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(vt.a)(null);else{p.pipe(function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?kt((e,n)=>t(e,n,r)):Dy.a,Oy(1),n?Cy(e):Sy(()=>new wy))}()).subscribe();const t=p.pipe(ly(t=>t.getRedirectResult().then(t=>t,()=>null)),f,my({bufferSize:1,refCount:!1})),e=t=>new pt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(ly(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(ly(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Py(n),Object(Vy.a)(h.outsideAngular),Object(Pt.b)(h.insideAngular)),this.user=t.pipe(Py(r),Object(Vy.a)(h.outsideAngular),Object(Pt.b)(h.insideAngular)),this.idToken=this.user.pipe(ly(t=>t?Object(yt.a)(t.getIdToken()):Object(vt.a)(null))),this.idTokenResult=this.user.pipe(ly(t=>t?Object(yt.a)(t.getIdTokenResult()):Object(vt.a)(null))),this.credential=Object(ay.a)(t,d,this.authState.pipe(kt(t=>!t))).pipe(Object(Tt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Vy.a)(h.outsideAngular),Object(Pt.b)(h.insideAngular))}return Object(Vt.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Vt.c),r.Eb(Vt.b,8),r.Eb(r.u),r.Eb(r.s),r.Eb(Ry,8),r.Eb(My,8),r.Eb(Ly,8),r.Eb(Fy,8),r.Eb(Uy,8),r.Eb(Hy,8))},t.\u0275prov=Object(r.ub)({factory:function(){return new t(Object(r.Eb)(Vt.c),Object(r.Eb)(Vt.b,8),Object(r.Eb)(r.u),Object(r.Eb)(r.s),Object(r.Eb)(Ry,8),Object(r.Eb)(My,8),Object(r.Eb)(Ly,8),Object(r.Eb)(Fy,8),Object(r.Eb)(Uy,8),Object(r.Eb)(Hy,8))},token:t,providedIn:"any"}),t})();function qy(t,e){return function(t,e=dt.a){return new pt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function zy(t,e){return qy(t,e).pipe(Object(Tt.a)(t=>({payload:t,type:"query"})))}function Gy(t,e){return zy(t,e).pipe(wt(void 0),Et(),Object(Tt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Wy(t,e,n){return Gy(t,n).pipe(Ct((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Qy(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Qy(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Qy(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new St(void 0,void 0)),Object(Tt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Qy(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Yy(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Vt.e)(By,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Ky{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Gy(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Tt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(wt(void 0),Et(),kt(([t,e])=>e.length>0||!t),Object(Tt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ct((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Yy(t);return Wy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return zy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Tt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(Pt.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Xy(this.ref.doc(t),this.afs)}}class Xy{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=nv(n,e);return new Ky(r,i,this.afs)}snapshotChanges(){return qy(this.ref,this.afs.schedulers.outsideAngular).pipe(wt(void 0),Et(),Object(Tt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Tt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(yt.a)(this.ref.get(t)).pipe(Object(Pt.b)(this.afs.schedulers.insideAngular))}}class Zy{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Gy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Tt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),kt(t=>t.length>0),this.afs.keepUnstableUntilFirst):Gy(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ct((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Yy(t);return Wy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return zy(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Tt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(Pt.b)(this.afs.schedulers.insideAngular))}}const $y=new r.l("angularfire2.enableFirestorePersistence"),Jy=new r.l("angularfire2.firestore.persistenceSettings"),tv=new r.l("angularfire2.firestore.settings"),ev=new r.l("angularfire2.firestore.use-emulator");function nv(t,e=(t=>t)){return{query:e(t),ref:t}}let rv=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new Vt.d(o),this.keepUnstableUntilFirst=Object(Vt.h)(this.schedulers);const c=Object(Vt.g)(t,o,e);!Rt.a.auth&&a&&Object(Vt.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(Vt.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!b(i)){const e=()=>{try{return Object(yt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(ny){return"undefined"!=typeof console&&console.warn(ny),Object(vt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(vt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=nv(n,e),o=this.schedulers.ngZone.run(()=>r);return new Ky(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Zy(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Xy(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Eb(Vt.c),r.Eb(Vt.b,8),r.Eb($y,8),r.Eb(tv,8),r.Eb(r.u),r.Eb(r.s),r.Eb(Jy,8),r.Eb(ev,8),r.Eb(Ry,8))},t.\u0275prov=Object(r.ub)({factory:function(){return new t(Object(r.Eb)(Vt.c),Object(r.Eb)(Vt.b,8),Object(r.Eb)($y,8),Object(r.Eb)(tv,8),Object(r.Eb)(r.u),Object(r.Eb)(r.s),Object(r.Eb)(Jy,8),Object(r.Eb)(ev,8),Object(r.Eb)(Ry,8))},token:t,providedIn:"any"}),t})(),iv=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:$y,useValue:!0},{provide:Jy,useValue:e}]}}}return t.\u0275mod=r.wb({type:t}),t.\u0275inj=r.vb({factory:function(e){return new(e||t)},providers:[rv]}),t})();var ov=n("DH7j"),sv=n("XoHu");function uv(t,e){return new pt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(yt.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const av=new r.l("NgValueAccessor"),cv={provide:av,useExisting:Object(r.J)(()=>lv),multi:!0};let lv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.yb(r.w),r.yb(r.h))},t.\u0275dir=r.tb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Hb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.ob([cv])]}),t})();const hv={provide:av,useExisting:Object(r.J)(()=>dv),multi:!0},fv=new r.l("CompositionEventMode");let dv=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.yb(r.w),r.yb(r.h),r.yb(fv,8))},t.\u0275dir=r.tb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Hb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.ob([hv])]}),t})();function pv(t){return null==t||0===t.length}function yv(t){return null!=t&&"number"==typeof t.length}const vv=new r.l("NgValidators"),gv=new r.l("NgAsyncValidators"),bv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mv{static min(t){return e=>{if(pv(e.value)||pv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(pv(e.value)||pv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return pv(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return pv(t.value)||bv.test(t.value)?null:{email:!0}}static minLength(t){return e=>pv(e.value)||!yv(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>yv(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return mv.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(pv(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(wv);return 0==e.length?null:function(t){return Ev(Ov(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(wv);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(ov.a)(e))return uv(e,null);if(Object(sv.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return uv(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return uv(t=1===t.length&&Object(ov.a)(t[0])?t[0]:t,null).pipe(Object(Tt.a)(t=>e(...t)))}return uv(t,null)}(Ov(t,e).map(_v)).pipe(Object(Tt.a)(Ev))}}}function wv(t){return null!=t}function _v(t){const e=Object(r.gb)(t)?Object(yt.a)(t):t;return Object(r.fb)(e),e}function Ev(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ov(t,e){return e.map(e=>e(t))}function Iv(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Tv(t){return null!=t?mv.compose(Iv(t)):null}function Cv(t){return null!=t?mv.composeAsync(Iv(t)):null}function Av(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let xv=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Tv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Cv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.tb({type:t}),t})(),Sv=(()=>{class t extends xv{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return jv(e||t)},t.\u0275dir=r.tb({type:t,features:[r.mb]}),t})();const jv=r.Db(Sv);class kv extends xv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Nv=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.yb(kv,2))},t.\u0275dir=r.tb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.rb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.mb]}),t})();const Dv={provide:av,useExisting:Object(r.J)(()=>Pv),multi:!0};let Pv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.yb(r.w),r.yb(r.h))},t.\u0275dir=r.tb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Hb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.ob([Dv])]}),t})();const Vv={provide:av,useExisting:Object(r.J)(()=>Mv),multi:!0};let Rv=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.ub({token:t,factory:t.\u0275fac}),t})(),Mv=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(kv),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.yb(r.w),r.yb(r.h),r.yb(Rv),r.yb(r.m))},t.\u0275dir=r.tb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Hb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.ob([Vv])]}),t})();const Lv={provide:av,useExisting:Object(r.J)(()=>Fv),multi:!0};let Fv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.yb(r.w),r.yb(r.h))},t.\u0275dir=r.tb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Hb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.ob([Lv])]}),t})();const Uv={provide:av,useExisting:Object(r.J)(()=>Hv),multi:!0};let Hv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.yb(r.w),r.yb(r.h))},t.\u0275dir=r.tb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Hb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.ob([Uv])]}),t})();const Bv={provide:av,useExisting:Object(r.J)(()=>qv),multi:!0};let qv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.yb(r.w),r.yb(r.h))},t.\u0275dir=r.tb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Hb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.ob([Bv])]}),t})();function zv(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Gv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Wv=[lv,Fv,Pv,Hv,qv,Mv];function Qv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Yv="VALID",Kv="INVALID",Xv="PENDING",Zv="DISABLED";function $v(t){return(ng(t)?t.validators:t)||null}function Jv(t){return Array.isArray(t)?Tv(t):t||null}function tg(t,e){return(ng(e)?e.asyncValidators:t)||null}function eg(t){return Array.isArray(t)?Cv(t):t||null}function ng(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class rg{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Jv(this._rawValidators),this._composedAsyncValidatorFn=eg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Yv}get invalid(){return this.status===Kv}get pending(){return this.status==Xv}get disabled(){return this.status===Zv}get enabled(){return this.status!==Zv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Jv(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=eg(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zv,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Yv,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Yv&&this.status!==Xv||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zv:Yv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xv,this._hasOwnPendingAsyncValidator=!0;const e=_v(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof og?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof sg&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.j,this.statusChanges=new r.j}_calculateStatus(){return this._allControlsDisabled()?Zv:this.errors?Kv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xv)?Xv:this._anyControlsHaveStatus(Kv)?Kv:Yv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ng(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ig extends rg{constructor(t=null,e,n){super($v(e),tg(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Qv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Qv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class og extends rg{constructor(t,e,n){super($v(e),tg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ig?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class sg extends rg{constructor(t,e,n){super($v(e),tg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ig?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ug={provide:kv,useExisting:Object(r.J)(()=>cg)},ag=(()=>Promise.resolve(null))();let cg=(()=>{class t extends kv{constructor(t,e,n,i){super(),this.control=new ig,this._registered=!1,this.update=new r.j,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===dv?n=t:(e=t,Wv.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Av(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Av(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();zv(e._rawValidators,n),zv(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Gv(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Gv(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ag.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;ag.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.yb(Sv,9),r.yb(vv,10),r.yb(gv,10),r.yb(av,10))},t.\u0275dir=r.tb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.ob([ug]),r.mb,r.nb]}),t})(),lg=(()=>{class t{}return t.\u0275mod=r.wb({type:t}),t.\u0275inj=r.vb({factory:function(e){return new(e||t)}}),t})(),hg=(()=>{class t{}return t.\u0275mod=r.wb({type:t}),t.\u0275inj=r.vb({factory:function(e){return new(e||t)},providers:[Rv],imports:[lg]}),t})();function fg(t,e){if(1&t){const t=r.Cb();r.Bb(0,"input",4),r.Hb("ngModelChange",function(e){return r.Lb(t),r.Ib().name=e}),r.Ab()}if(2&t){const t=r.Ib();r.Kb("placeholder",t.nameP),r.Jb("ngModel",t.name)}}function dg(t,e){if(1&t){const t=r.Cb();r.Bb(0,"input",5),r.Hb("ngModelChange",function(e){return r.Lb(t),r.Ib().email=e}),r.Ab()}if(2&t){const t=r.Ib();r.Jb("ngModel",t.email)}}function pg(t,e){if(1&t){const t=r.Cb();r.Bb(0,"input",4),r.Hb("ngModelChange",function(e){return r.Lb(t),r.Ib().phone=e}),r.Ab()}if(2&t){const t=r.Ib();r.Kb("placeholder",t.phoneP),r.Jb("ngModel",t.phone)}}function yg(t,e){if(1&t){const t=r.Cb();r.Bb(0,"div",6),r.Hb("click",function(){return r.Lb(t),r.Ib().send()}),r.Bb(1,"h3"),r.Ob(2,"OK"),r.Ab(),r.Ab()}}let vg=(()=>{class t{constructor(t,e){this.contentService=t,this.firestore=e,this.submitted=!1}ngOnInit(){this.setContent()}ngOnChanges(){this.setContent()}setContent(){this.header=this.contentService.getText("formHeader",this.lang),this.nameP=this.contentService.getText("formName",this.lang),this.phoneP=this.contentService.getText("formPhone",this.lang)}send(){this.firestore.collection("applicants").add({name:this.name,email:this.email,phone:this.phone}).then(t=>{this.header=0===this.lang?"\u0414\u044f\u043a\u0443\u0454\u043c\u043e!":"Thank you!",this.submitted=!0})}}return t.\u0275fac=function(e){return new(e||t)(r.yb(ct),r.yb(rv))},t.\u0275cmp=r.sb({type:t,selectors:[["app-register"]],inputs:{lang:"lang"},features:[r.nb],decls:10,vars:5,consts:[[1,"form"],[3,"placeholder","ngModel","ngModelChange",4,"ngIf"],["placeholder","Email",3,"ngModel","ngModelChange",4,"ngIf"],["class","submit",3,"click",4,"ngIf"],[3,"placeholder","ngModel","ngModelChange"],["placeholder","Email",3,"ngModel","ngModelChange"],[1,"submit",3,"click"]],template:function(t,e){1&t&&(r.Bb(0,"div",0),r.Bb(1,"h2"),r.Ob(2),r.Ab(),r.Bb(3,"label"),r.Nb(4,fg,1,2,"input",1),r.Ab(),r.Bb(5,"label"),r.Nb(6,dg,1,1,"input",2),r.Ab(),r.Bb(7,"label"),r.Nb(8,pg,1,2,"input",1),r.Ab(),r.Nb(9,yg,3,0,"div",3),r.Ab()),2&t&&(r.pb(2),r.Pb(e.header),r.pb(2),r.Jb("ngIf",!e.submitted),r.pb(2),r.Jb("ngIf",!e.submitted),r.pb(2),r.Jb("ngIf",!e.submitted),r.pb(1),r.Jb("ngIf",!e.submitted))},directives:[h,dv,Nv,cg],styles:["[_nghost-%COMP%]{width:100vw;height:100vh;display:grid}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]{align-self:center;justify-self:center;display:flex;flex-direction:column;row-gap:3vh;justify-items:center}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20vw;height:8vh;background-color:#fff;outline:none;border:0;border-radius:2vh;padding:0 1vw;box-sizing:border-box}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{width:20vw;height:8vh;background-color:#4d00ff;border-radius:2vh;display:grid;cursor:pointer}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{align-self:center;justify-self:center;color:#fff;font-weight:400;margin:0;font-size:2.5vh}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]:hover{background-color:#844eff}"]}),t})();function gg(t,e){if(1&t&&r.zb(0,"app-about",3),2&t){const t=r.Ib();r.Jb("lang",t.lang)}}function bg(t,e){if(1&t&&r.zb(0,"app-contacts",3),2&t){const t=r.Ib();r.Jb("lang",t.lang)}}function mg(t,e){if(1&t&&r.zb(0,"app-register",3),2&t){const t=r.Ib();r.Jb("lang",t.lang)}}let wg=(()=>{class t{constructor(){this.title="measurme-landing"}ngOnInit(){this.lang=1,this.page=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.sb({type:t,selectors:[["app-root"]],decls:5,vars:5,consts:[[3,"lang","changePage","changeLang"],[3,"ngSwitch"],[3,"lang",4,"ngSwitchCase"],[3,"lang"]],template:function(t,e){1&t&&(r.Bb(0,"app-nav",0),r.Hb("changePage",function(t){return e.page=t})("changeLang",function(){return e.lang=1==e.lang?0:e.lang+1}),r.Ab(),r.Bb(1,"div",1),r.Nb(2,gg,1,1,"app-about",2),r.Nb(3,bg,1,1,"app-contacts",2),r.Nb(4,mg,1,1,"app-register",2),r.Ab()),2&t&&(r.Jb("lang",e.lang),r.pb(1),r.Jb("ngSwitch",e.page),r.pb(1),r.Jb("ngSwitchCase",0),r.pb(1),r.Jb("ngSwitchCase",1),r.pb(1),r.Jb("ngSwitchCase",2))},directives:[lt,y,v,ht,ft,vg],styles:["[_nghost-%COMP%]{width:100vw;height:100vh;display:grid;box-sizing:border-box}"]}),t})();const _g={apiKey:"AIzaSyCGRDWq5AP8cPyW7_0RX0vDfiL1e0CwG4E",authDomain:"measurme.firebaseapp.com",projectId:"measurme",storageBucket:"measurme.appspot.com",messagingSenderId:"1013446586094",appId:"1:1013446586094:web:5fefa97bd0664d6aa00dff",measurementId:"G-2901EE4JD3"};let Eg=(()=>{class t{}return t.\u0275mod=r.wb({type:t,bootstrap:[wg]}),t.\u0275inj=r.vb({factory:function(e){return new(e||t)},providers:[],imports:[[Q,hg,Vt.a.initializeApp(_g),iv]]}),t})();Object(r.I)(),G().bootstrapModule(Eg).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);